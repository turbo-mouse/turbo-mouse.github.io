{"version":3,"file":"packs/js/modals/compare_history_modal-4f6427d695ccf028b59f.chunk.js","mappings":"uMACmnE,UAD/pD,SAA6BA,GAAM,IAC3QC,EAD+QC,EAAQF,EAAKE,QAAQC,EAASH,EAAKG,SAAaC,GAAS,UAAqBC,GAAQ,SAAe,SAASC,GAAO,OAAOA,EAAMC,QAAQC,MAAM,CAACL,EAAS,WAAY,IAC7pBM,GAAS,SAAe,SAASH,GAAO,OAAOA,EAAMC,QAAQC,MAAM,CAACL,EAAS,SAAU,IAAw2D,OAA/xD,IAAAO,YAAU,WAAWN,GAAS,QAAaD,GAAW,GAAE,CAACA,IAAgCF,EAATI,GAA2B,OAAK,KAAQ,CAAC,IAA2B,OAAK,MAAM,CAACM,UAAU,mEAA8D,EAAOF,aAAmC,EAAOA,EAASG,KAAI,SAASC,GAAS,IAAIC,EAA0BC,EAAQ,CAACC,OAAOH,EAAQI,aAAiBC,EAAe,CAACF,OAAOH,EAAQM,aAAiBC,EAA2B,iBAAfP,EAAQO,MAAiBP,EAAQO,KAAK,OAAmB,OAAK,MAAM,CAACT,UAAU,gDAA2C,GAAuD,QAA9CG,EAAsBD,EAAQQ,oBAA8C,IAAxBP,OAA+B,EAAOA,EAAsBQ,QAAQ,GAAgB,gBAAoB,WAAe,MAAkB,OAAK,OAAO,CAACC,wBAAwBL,KAA8B,OAAK,KAAK,CAAC,KAAiB,OAAK,MAAM,CAACP,UAAU,kBAAkBY,wBAAwBR,IAAUK,IAAmB,OAAK,MAAM,CAACT,UAAU,aAAQ,GAAoB,OAAK,KAAM,CAAC,OAAE,EAAOE,EAAQO,KAAKI,QAAQZ,KAAI,SAASa,GAAQ,OAAmB,OAAK,KAAO,CAACC,WAAW,SAASf,UAAU,6CAAwC,GAAoB,OAAK,OAAO,CAACA,WAAU,aAAK,4FAA4F,CAAC,QAAUS,EAAKO,WAAWC,SAAS,EAAEC,KAAKT,EAAKO,SAAS,WAAW,WAAuB,OAAK,OAAO,CAACJ,wBAAwB,CAACP,OAAOS,EAAOK,mBAAoB,MAAKjB,EAAQkB,kBAAkBC,KAAK,IAAgB,OAAK,IAAiB,CAACC,MAAMpB,EAAQkB,qBAAiC,OAAK,KAAK,CAACG,MAAM,QAAQC,IAAI,OAAOC,MAAM,QAAQJ,KAAK,WAAM,GAAoB,OAAK,KAAc,CAACK,MAAM,IAAIC,KAAKzB,EAAQ0B,YAAYC,QAAO,EAAKC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,aAAc,MAAwB,OAAK,KAAM,CAACC,OAAmB,OAAK,IAAiB,CAACC,GAAG,+BAA+BC,eAAe,iBAAiB9C,QAA/9D,WAAwBA,EAAQ,kBAAmB,QAAk8D,EAAOD,EAAM,C","sources":["webpack://soapbox/./app/soapbox/features/ui/components/modals/compare-history-modal.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import clsx from'clsx';import React,{useEffect}from'react';import{FormattedDate,FormattedMessage}from'react-intl';import{fetchHistory}from'soapbox/actions/history';import AttachmentThumbs from'soapbox/components/attachment-thumbs';import{HStack,Modal,Spinner,Stack,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';var CompareHistoryModal=function CompareHistoryModal(_ref){var onClose=_ref.onClose,statusId=_ref.statusId;var dispatch=useAppDispatch();var loading=useAppSelector(function(state){return state.history.getIn([statusId,'loading']);});// @ts-ignore\nvar versions=useAppSelector(function(state){return state.history.getIn([statusId,'items']);});var onClickClose=function onClickClose(){onClose('COMPARE_HISTORY');};useEffect(function(){dispatch(fetchHistory(statusId));},[statusId]);var body;if(loading){body=/*#__PURE__*/_jsx(Spinner,{});}else{body=/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-solid divide-gray-200 dark:divide-gray-800\"},void 0,versions===null||versions===void 0?void 0:versions.map(function(version){var _version$spoiler_text;var content={__html:version.contentHtml};var spoilerContent={__html:version.spoilerHtml};var poll=typeof version.poll!=='string'&&version.poll;return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col py-2 first:pt-0 last:pb-0\"},void 0,((_version$spoiler_text=version.spoiler_text)===null||_version$spoiler_text===void 0?void 0:_version$spoiler_text.length)>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:spoilerContent}),/*#__PURE__*/_jsx(\"hr\",{})),/*#__PURE__*/_jsx(\"div\",{className:\"status__content\",dangerouslySetInnerHTML:content}),poll&&/*#__PURE__*/_jsx(\"div\",{className:\"poll\"},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,version.poll.options.map(function(option){return/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",className:\"p-1 text-gray-900 dark:text-gray-300\"},void 0,/*#__PURE__*/_jsx(\"span\",{className:clsx('mr-2.5 inline-block h-4 w-4 flex-none rounded-full border border-solid border-primary-600',{'rounded':poll.multiple}),tabIndex:0,role:poll.multiple?'checkbox':'radio'}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:option.title_emojified}}));}))),version.media_attachments.size>0&&/*#__PURE__*/_jsx(AttachmentThumbs,{media:version.media_attachments}),/*#__PURE__*/_jsx(Text,{align:\"right\",tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(version.created_at),hour12:true,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"numeric\",minute:\"2-digit\"})));}));}return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"compare_history_modal.header\",defaultMessage:\"Edit history\"}),onClose:onClickClose},void 0,body);};export default CompareHistoryModal;"],"names":["_ref","body","onClose","statusId","dispatch","loading","state","history","getIn","versions","useEffect","className","map","version","_version$spoiler_text","content","__html","contentHtml","spoilerContent","spoilerHtml","poll","spoiler_text","length","dangerouslySetInnerHTML","options","option","alignItems","multiple","tabIndex","role","title_emojified","media_attachments","size","media","align","tag","theme","value","Date","created_at","hour12","year","month","day","hour","minute","title","id","defaultMessage"],"sourceRoot":""}