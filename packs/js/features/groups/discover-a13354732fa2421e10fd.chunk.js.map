{"version":3,"file":"packs/js/features/groups/discover-a13354732fa2421e10fd.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/placeholder/components/placeholder-group-discover.tsx","webpack://soapbox/./app/soapbox/features/groups/components/discover/group.tsx","webpack://soapbox/./app/soapbox/features/groups/components/discover/popular-groups.tsx","webpack://soapbox/./app/soapbox/features/placeholder/components/placeholder-group-search.tsx","webpack://soapbox/./app/soapbox/queries/groups/search.ts","webpack://soapbox/./app/soapbox/features/groups/components/discover/search/results.tsx","webpack://soapbox/./app/soapbox/features/groups/components/discover/search/no-results-blankslate.tsx","webpack://soapbox/./app/soapbox/features/groups/components/discover/search/recent-searches.tsx","webpack://soapbox/./app/soapbox/utils/groups.ts","webpack://soapbox/./app/soapbox/features/groups/components/discover/search/search.tsx","webpack://soapbox/./app/soapbox/features/groups/components/discover/suggested-groups.tsx","webpack://soapbox/./app/soapbox/features/groups/discover.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{HStack,Stack,Text}from'soapbox/components/ui';import{generateText,randomIntFromInterval}from'../utils';var PlaceholderGroupDiscover=function PlaceholderGroupDiscover(){var groupNameLength=randomIntFromInterval(12,20);return/*#__PURE__*/_jsx(Stack,{space:2,className:\"animate-pulse\"},void 0,/*#__PURE__*/_jsx(Stack,{className:\"aspect-w-10 aspect-h-7 h-full w-full overflow-hidden rounded-lg\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-t-lg bg-gray-300 object-cover dark:bg-gray-800\"}),/*#__PURE__*/_jsx(Stack,{justifyContent:\"end\",className:\"z-10 p-4 text-white\",space:3},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900\"}),/*#__PURE__*/_jsx(Stack,{space:1,className:\"text-gray-500 dark:text-gray-700\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"inherit\",weight:\"bold\",truncate:true},void 0,generateText(groupNameLength)),/*#__PURE__*/_jsx(HStack,{space:3,wrap:true},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"inherit\"},void 0,generateText(6)),/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"inherit\"},void 0,generateText(6)))))),/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-full rounded-full bg-gray-300 dark:bg-gray-800\"}));};export default PlaceholderGroupDiscover;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{forwardRef}from'react';import{FormattedMessage}from'react-intl';import{Link}from'react-router-dom';import{Avatar,Button,HStack,Stack,Text}from'soapbox/components/ui';import GroupMemberCount from'soapbox/features/group/components/group-member-count';import GroupPrivacy from'soapbox/features/group/components/group-privacy';var Group=/*#__PURE__*/forwardRef(function(props,ref){var group=props.group,_props$width=props.width,width=_props$width===void 0?'auto':_props$width;return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex shrink-0 flex-col space-y-2 px-0.5\",style:{width:width}},group.id,/*#__PURE__*/_jsx(Link,{to:\"/groups/\".concat(group.id)},void 0,/*#__PURE__*/React.createElement(Stack,{className:\"aspect-w-10 aspect-h-7 h-full w-full overflow-hidden rounded-lg\",ref:ref,style:{minHeight:180}},group.header&&/*#__PURE__*/_jsx(\"img\",{src:group.header,alt:\"Group cover\",className:\"absolute inset-0 object-cover\"}),/*#__PURE__*/_jsx(Stack,{justifyContent:\"end\",className:\"z-10 p-4 text-white\",space:3},void 0,/*#__PURE__*/_jsx(Avatar,{className:\"ring-2 ring-white\",src:group.avatar,size:44}),/*#__PURE__*/_jsx(Stack,{space:1},void 0,/*#__PURE__*/_jsx(Text,{weight:\"bold\",dangerouslySetInnerHTML:{__html:group.display_name_html},theme:\"inherit\",truncate:true}),/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:1},void 0,/*#__PURE__*/_jsx(GroupPrivacy,{group:group}),/*#__PURE__*/_jsx(\"span\",{},void 0,\"\\u2022\"),/*#__PURE__*/_jsx(GroupMemberCount,{group:group})))),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-x-0 bottom-0 z-0 flex justify-center rounded-b-lg bg-gradient-to-t from-gray-900 to-transparent pt-12 pb-8 transition-opacity duration-500\"}))),/*#__PURE__*/_jsx(Button,{theme:\"primary\",block:true},void 0,group.locked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.join.private\",defaultMessage:\"Request Access\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.join.public\",defaultMessage:\"Join Group\"})));});export default Group;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.fill.js\";import React,{useState}from'react';import{Carousel,Stack,Text}from'soapbox/components/ui';import PlaceholderGroupDiscover from'soapbox/features/placeholder/components/placeholder-group-discover';import{usePopularGroups}from'soapbox/queries/groups';import Group from'./group';var PopularGroups=function PopularGroups(){var _usePopularGroups=usePopularGroups(),groups=_usePopularGroups.groups,isFetching=_usePopularGroups.isFetching;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),groupCover=_useState2[0],setGroupCover=_useState2[1];return/*#__PURE__*/_jsx(Stack,{space:4},void 0,/*#__PURE__*/_jsx(Text,{size:\"xl\",weight:\"bold\"},void 0,\"Popular Groups\"),/*#__PURE__*/_jsx(Carousel,{itemWidth:250,itemCount:groups.length,controlsHeight:groupCover===null||groupCover===void 0?void 0:groupCover.clientHeight},void 0,function(_ref){var width=_ref.width;return/*#__PURE__*/React.createElement(React.Fragment,null,isFetching?new Array(20).fill(0).map(function(_,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex shrink-0 flex-col space-y-2 px-0.5\",style:{width:width||'auto'}},idx,/*#__PURE__*/_jsx(PlaceholderGroupDiscover,{}));}):groups.map(function(group){return/*#__PURE__*/React.createElement(Group,{key:group.id,group:group,width:width,ref:setGroupCover});}));}));};export default PopularGroups;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{HStack,Stack,Text}from'soapbox/components/ui';import{generateText,randomIntFromInterval}from'../utils';export default(function(){var groupNameLength=randomIntFromInterval(12,20);return/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\",className:\"animate-pulse\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:2},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900\"}),/*#__PURE__*/_jsx(Stack,{className:\"text-gray-500 dark:text-gray-700\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"inherit\",weight:\"bold\"},void 0,generateText(groupNameLength)),/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"inherit\",tag:\"span\",size:\"sm\",weight:\"medium\"},void 0,generateText(6)),/*#__PURE__*/_jsx(\"span\",{},void 0,\"\\u2022\"),/*#__PURE__*/_jsx(Text,{theme:\"inherit\",tag:\"span\",size:\"sm\",weight:\"medium\"},void 0,generateText(6))))),/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-36 rounded-full bg-gray-300 dark:bg-gray-800\"}));});","import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import\"regenerator-runtime/runtime.js\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.regexp.exec.js\";import\"core-js/modules/es.string.search.js\";import\"core-js/modules/es.object.keys.js\";import\"core-js/modules/es.symbol.js\";import\"core-js/modules/es.array.filter.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.object.get-own-property-descriptor.js\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/web.dom-collections.for-each.js\";import\"core-js/modules/es.object.get-own-property-descriptors.js\";import\"core-js/modules/es.object.define-properties.js\";import\"core-js/modules/es.object.define-property.js\";import{useInfiniteQuery}from'@tanstack/react-query';import{getNextLink}from'soapbox/api';import{useApi,useFeatures}from'soapbox/hooks';import{normalizeGroup}from'soapbox/normalizers';import{flattenPages}from'soapbox/utils/queries';var GroupSearchKeys={search:function search(query){return query?['groups','search',query]:['groups','search'];}};var useGroupSearch=function useGroupSearch(search){var api=useApi();var features=useFeatures();var getSearchResults=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(pageParam){var nextPageLink,uri,response,data,link,hasMore,result;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:nextPageLink=pageParam===null||pageParam===void 0?void 0:pageParam.link;uri=nextPageLink||'/api/v1/groups/search';_context.next=4;return api.get(uri,{params:search?{q:search}:undefined});case 4:response=_context.sent;data=response.data;link=getNextLink(response);hasMore=!!link;result=data.map(normalizeGroup);return _context.abrupt(\"return\",{result:result,hasMore:hasMore,link:link});case 10:case\"end\":return _context.stop();}},_callee);}));return function getSearchResults(_x){return _ref.apply(this,arguments);};}();var queryInfo=useInfiniteQuery(GroupSearchKeys.search(search),function(_ref2){var pageParam=_ref2.pageParam;return getSearchResults(pageParam);},{keepPreviousData:true,enabled:features.groups&&!!search,getNextPageParam:function getNextPageParam(config){if(config.hasMore){return{link:config.link};}return undefined;}});var data=flattenPages(queryInfo.data);return _objectSpread(_objectSpread({},queryInfo),{},{groups:data||[]});};export{useGroupSearch};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _extends from\"@babel/runtime/helpers/esm/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"context\"];import clsx from'clsx';import React,{useCallback,useState}from'react';import{FormattedMessage}from'react-intl';import{Virtuoso,VirtuosoGrid}from'react-virtuoso';import{Avatar,Button,HStack,Icon,Stack,Text}from'soapbox/components/ui';import{shortNumberFormat}from'soapbox/utils/numbers';import GroupComp from'../group';var Layout;(function(Layout){Layout[\"LIST\"]=\"LIST\";Layout[\"GRID\"]=\"GRID\";})(Layout||(Layout={}));var GridList=/*#__PURE__*/React.forwardRef(function(props,ref){var context=props.context,rest=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/React.createElement(\"div\",_extends({ref:ref},rest,{className:\"flex flex-wrap\"}));});export default(function(props){var groupSearchResult=props.groupSearchResult;var _useState=useState(Layout.LIST),_useState2=_slicedToArray(_useState,2),layout=_useState2[0],setLayout=_useState2[1];var groups=groupSearchResult.groups,hasNextPage=groupSearchResult.hasNextPage,isFetching=groupSearchResult.isFetching,fetchNextPage=groupSearchResult.fetchNextPage;var handleLoadMore=function handleLoadMore(){if(hasNextPage&&!isFetching){fetchNextPage();}};var renderGroupList=useCallback(function(group,index){return/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\",className:clsx({'pt-4':index!==0})},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:2},void 0,/*#__PURE__*/_jsx(Avatar,{className:\"ring-2 ring-white dark:ring-primary-900\",src:group.avatar,size:44}),/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{weight:\"bold\",dangerouslySetInnerHTML:{__html:group.display_name_html}}),/*#__PURE__*/_jsx(HStack,{className:\"text-gray-700 dark:text-gray-600\",space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Icon,{className:\"h-4.5 w-4.5\",src:group.locked?require('@tabler/icons/lock.svg'):require('@tabler/icons/world.svg')}),/*#__PURE__*/_jsx(Text,{theme:\"inherit\",tag:\"span\",size:\"sm\",weight:\"medium\"},void 0,group.locked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.privacy.locked\",defaultMessage:\"Private\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.privacy.public\",defaultMessage:\"Public\"})),typeof group.members_count!=='undefined'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(\"span\",{},void 0,\"\\u2022\"),/*#__PURE__*/_jsx(Text,{theme:\"inherit\",tag:\"span\",size:\"sm\",weight:\"medium\"},void 0,shortNumberFormat(group.members_count),' ',/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.results.member_count\",defaultMessage:\"{members, plural, one {member} other {members}}\",values:{members:group.members_count}})))))),/*#__PURE__*/_jsx(Button,{theme:\"primary\"},void 0,group.locked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.join.private\",defaultMessage:\"Request Access\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.join.public\",defaultMessage:\"Join Group\"})));},[]);var renderGroupGrid=useCallback(function(group,index){return/*#__PURE__*/_jsx(\"div\",{className:\"pb-4\"},void 0,/*#__PURE__*/_jsx(GroupComp,{group:group}));},[]);return/*#__PURE__*/_jsx(Stack,{space:4,\"data-testid\":\"results\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\"},void 0,/*#__PURE__*/_jsx(Text,{weight:\"semibold\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.results.groups\",defaultMessage:\"Groups\"})),/*#__PURE__*/_jsx(HStack,{alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setLayout(Layout.LIST);}},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/layout-list.svg'),className:clsx('h-5 w-5 text-gray-600',{'text-primary-600':layout===Layout.LIST})})),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setLayout(Layout.GRID);}},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/layout-grid.svg'),className:clsx('h-5 w-5 text-gray-600',{'text-primary-600':layout===Layout.GRID})})))),layout===Layout.LIST?/*#__PURE__*/_jsx(Virtuoso,{useWindowScroll:true,data:groups,itemContent:function itemContent(index,group){return renderGroupList(group,index);},endReached:handleLoadMore}):/*#__PURE__*/_jsx(VirtuosoGrid,{useWindowScroll:true,data:groups,itemContent:function itemContent(index,group){return renderGroupGrid(group,index);},components:{Item:function Item(props){return/*#__PURE__*/React.createElement(\"div\",_extends({},props,{className:\"w-1/2 flex-none\"}));},List:GridList},endReached:handleLoadMore}));});","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage}from'react-intl';import{Stack,Text}from'soapbox/components/ui';export default(function(){return/*#__PURE__*/_jsx(Stack,{space:2,className:\"px-4 py-2\",\"data-testid\":\"no-results\"},void 0,/*#__PURE__*/_jsx(Text,{weight:\"bold\",size:\"lg\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.no_results.title\",defaultMessage:\"No matches found\"})),/*#__PURE__*/_jsx(Text,{theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.no_results.subtitle\",defaultMessage:\"Try searching for another group.\"})));});","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FormattedMessage}from'react-intl';import{Virtuoso}from'react-virtuoso';import{HStack,Icon,Stack,Text}from'soapbox/components/ui';import{useOwnAccount}from'soapbox/hooks';import{groupSearchHistory}from'soapbox/settings';import{clearRecentGroupSearches}from'soapbox/utils/groups';export default(function(props){var onSelect=props.onSelect;var me=useOwnAccount();var _useState=useState(groupSearchHistory.get(me===null||me===void 0?void 0:me.id)||[]),_useState2=_slicedToArray(_useState,2),recentSearches=_useState2[0],setRecentSearches=_useState2[1];var onClearRecentSearches=function onClearRecentSearches(){clearRecentGroupSearches(me===null||me===void 0?void 0:me.id);setRecentSearches([]);};return/*#__PURE__*/_jsx(Stack,{space:2,\"data-testid\":\"recent-searches\"},void 0,recentSearches.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\",className:\"bg-white dark:bg-gray-900\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"muted\",weight:\"semibold\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.recent_searches.title\",defaultMessage:\"Recent searches\"})),/*#__PURE__*/_jsx(\"button\",{onClick:onClearRecentSearches,\"data-testid\":\"clear-recent-searches\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"primary\",size:\"sm\",className:\"hover:underline\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.recent_searches.clear_all\",defaultMessage:\"Clear all\"})))),/*#__PURE__*/_jsx(Virtuoso,{useWindowScroll:true,data:recentSearches,itemContent:function itemContent(_index,recentSearch){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"recent-search\"},recentSearch,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onSelect(recentSearch);},className:\"group flex w-full flex-col rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-800\",\"data-testid\":\"recent-search-result\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:2},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 p-2 dark:bg-gray-800 dark:group-hover:bg-gray-700/20\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/hash.svg'),className:\"h-5 w-5 text-gray-600\"})),/*#__PURE__*/_jsx(Text,{weight:\"bold\",size:\"sm\",align:\"left\"},void 0,recentSearch))));}})):/*#__PURE__*/_jsx(Stack,{space:2,\"data-testid\":\"recent-searches-blankslate\"},void 0,/*#__PURE__*/_jsx(Text,{weight:\"bold\",size:\"lg\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.recent_searches.blankslate.title\",defaultMessage:\"No recent searches\"})),/*#__PURE__*/_jsx(Text,{theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"groups.discover.search.recent_searches.blankslate.subtitle\",defaultMessage:\"Search group names, topics or keywords\"}))));});","import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import\"core-js/modules/es.array.index-of.js\";import\"core-js/modules/es.array.unshift.js\";import\"core-js/modules/es.array.splice.js\";import\"core-js/modules/es.array.concat.js\";import\"core-js/modules/es.json.stringify.js\";import{groupSearchHistory}from'soapbox/settings';var RECENT_SEARCHES_KEY='soapbox:recent-group-searches';var clearRecentGroupSearches=function clearRecentGroupSearches(currentUserId){return groupSearchHistory.remove(currentUserId);};var saveGroupSearch=function saveGroupSearch(currentUserId,search){var currentSearches=[];if(groupSearchHistory.get(currentUserId)){currentSearches=groupSearchHistory.get(currentUserId);}if(currentSearches.indexOf(search)===-1){currentSearches.unshift(search);if(currentSearches.length>10){currentSearches.pop();}groupSearchHistory.set(currentUserId,currentSearches);return currentSearches;}else{// The search term has already been searched. Move it to the beginning\n// of the cached list.\nvar indexOfSearch=currentSearches.indexOf(search);var nextCurrentSearches=_toConsumableArray(currentSearches);nextCurrentSearches.splice.apply(nextCurrentSearches,[0,0].concat(_toConsumableArray(nextCurrentSearches.splice(indexOfSearch,1))));localStorage.setItem(RECENT_SEARCHES_KEY,JSON.stringify(nextCurrentSearches));return nextCurrentSearches;}};export{clearRecentGroupSearches,saveGroupSearch};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{Stack}from'soapbox/components/ui';import PlaceholderGroupSearch from'soapbox/features/placeholder/components/placeholder-group-search';import{useDebounce,useOwnAccount}from'soapbox/hooks';import{useGroupSearch}from'soapbox/queries/groups/search';import{saveGroupSearch}from'soapbox/utils/groups';import NoResultsBlankslate from'./no-results-blankslate';import RecentSearches from'./recent-searches';import Results from'./results';export default(function(props){var onSelect=props.onSelect,searchValue=props.searchValue;var me=useOwnAccount();var debounce=useDebounce;var debouncedValue=debounce(searchValue,300);var debouncedValueToSave=debounce(searchValue,1000);var groupSearchResult=useGroupSearch(debouncedValue);var groups=groupSearchResult.groups,isFetching=groupSearchResult.isFetching,isFetched=groupSearchResult.isFetched;var hasSearchResults=isFetched&&groups.length>0;var hasNoSearchResults=isFetched&&groups.length===0;useEffect(function(){if(debouncedValueToSave&&debouncedValueToSave.length>=0){saveGroupSearch(me===null||me===void 0?void 0:me.id,debouncedValueToSave);}},[debouncedValueToSave]);if(isFetching){return/*#__PURE__*/_jsx(Stack,{space:4},void 0,/*#__PURE__*/_jsx(PlaceholderGroupSearch,{}),/*#__PURE__*/_jsx(PlaceholderGroupSearch,{}),/*#__PURE__*/_jsx(PlaceholderGroupSearch,{}));}if(hasNoSearchResults){return/*#__PURE__*/_jsx(NoResultsBlankslate,{});}if(hasSearchResults){return/*#__PURE__*/_jsx(Results,{groupSearchResult:groupSearchResult});}return/*#__PURE__*/_jsx(RecentSearches,{onSelect:onSelect});});","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.fill.js\";import React,{useState}from'react';import{Carousel,Stack,Text}from'soapbox/components/ui';import PlaceholderGroupDiscover from'soapbox/features/placeholder/components/placeholder-group-discover';import{useSuggestedGroups}from'soapbox/queries/groups';import Group from'./group';var SuggestedGroups=function SuggestedGroups(){var _useSuggestedGroups=useSuggestedGroups(),groups=_useSuggestedGroups.groups,isFetching=_useSuggestedGroups.isFetching;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),groupCover=_useState2[0],setGroupCover=_useState2[1];return/*#__PURE__*/_jsx(Stack,{space:4},void 0,/*#__PURE__*/_jsx(Text,{size:\"xl\",weight:\"bold\"},void 0,\"Suggested For You\"),/*#__PURE__*/_jsx(Carousel,{itemWidth:250,itemCount:groups.length,controlsHeight:groupCover===null||groupCover===void 0?void 0:groupCover.clientHeight},void 0,function(_ref){var width=_ref.width;return/*#__PURE__*/React.createElement(React.Fragment,null,isFetching?new Array(20).fill(0).map(function(_,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex shrink-0 flex-col space-y-2 px-0.5\",style:{width:width||'auto'}},idx,/*#__PURE__*/_jsx(PlaceholderGroupDiscover,{}));}):groups.map(function(group){return/*#__PURE__*/React.createElement(Group,{key:group.id,group:group,width:width,ref:setGroupCover});}));}));};export default SuggestedGroups;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{defineMessages,useIntl}from'react-intl';import{HStack,Icon,IconButton,Input,Stack}from'soapbox/components/ui';import PopularGroups from'./components/discover/popular-groups';import Search from'./components/discover/search/search';import SuggestedGroups from'./components/discover/suggested-groups';import TabBar,{TabItems}from'./components/tab-bar';var messages=defineMessages({placeholder:{\"id\":\"groups.discover.search.placeholder\",\"defaultMessage\":\"Search\"}});var Discover=function Discover(){var intl=useIntl();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSearching=_useState2[0],setIsSearching=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var hasSearchValue=value&&value.length>0;var cancelSearch=function cancelSearch(){clearValue();setIsSearching(false);};var clearValue=function clearValue(){return setValue('');};return/*#__PURE__*/_jsx(Stack,{space:4},void 0,/*#__PURE__*/_jsx(TabBar,{activeTab:TabItems.FIND_GROUPS}),/*#__PURE__*/_jsx(Stack,{space:6},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\"},void 0,isSearching?/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/arrow-left.svg'),iconClassName:\"mr-2 h-5 w-5 fill-current text-gray-600\",onClick:cancelSearch}):null,/*#__PURE__*/_jsx(Input,{\"data-testid\":\"search\",type:\"text\",placeholder:intl.formatMessage(messages.placeholder),value:value,onChange:function onChange(event){return setValue(event.target.value);},onFocus:function onFocus(){return setIsSearching(true);},outerClassName:\"mt-0 w-full\",theme:\"search\",append:/*#__PURE__*/_jsx(\"button\",{onClick:clearValue},void 0,/*#__PURE__*/_jsx(Icon,{src:hasSearchValue?require('@tabler/icons/x.svg'):require('@tabler/icons/search.svg'),className:\"h-4 w-4 text-gray-700 dark:text-gray-600\",\"aria-hidden\":\"true\"}))})),isSearching?/*#__PURE__*/_jsx(Search,{searchValue:value,onSelect:function onSelect(newValue){return setValue(newValue);}}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(PopularGroups,{}),/*#__PURE__*/_jsx(SuggestedGroups,{}))));};export default Discover;"],"names":["groupNameLength","space","className","justifyContent","theme","weight","truncate","wrap","tag","forwardRef","props","ref","group","_props$width","width","style","id","to","concat","minHeight","header","src","alt","avatar","size","dangerouslySetInnerHTML","__html","display_name_html","alignItems","block","locked","defaultMessage","_usePopularGroups","groups","isFetching","_useState","useState","_useState2","groupCover","setGroupCover","itemWidth","itemCount","length","controlsHeight","clientHeight","_ref","Array","fill","map","_","idx","key","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","Layout","onSelect","me","recentSearches","setRecentSearches","onClick","currentUserId","useWindowScroll","data","itemContent","_index","recentSearch","align","_excluded","GridList","context","rest","groupSearchResult","LIST","layout","setLayout","hasNextPage","fetchNextPage","handleLoadMore","renderGroupList","useCallback","index","members_count","values","members","renderGroupGrid","GRID","endReached","components","Item","List","searchValue","debounce","debouncedValue","debouncedValueToSave","search","query","api","features","getSearchResults","regeneratorRuntime","mark","_callee","pageParam","nextPageLink","uri","response","link","hasMore","result","_context","prev","next","get","params","q","undefined","sent","abrupt","stop","_x","this","queryInfo","useInfiniteQuery","_ref2","keepPreviousData","enabled","getNextPageParam","config","useGroupSearch","isFetched","hasSearchResults","hasNoSearchResults","useEffect","currentSearches","indexOf","unshift","pop","indexOfSearch","nextCurrentSearches","splice","localStorage","setItem","JSON","stringify","saveGroupSearch","_useSuggestedGroups","messages","placeholder","intl","useIntl","isSearching","setIsSearching","_useState3","_useState4","value","setValue","hasSearchValue","clearValue","activeTab","iconClassName","type","formatMessage","onChange","event","onFocus","outerClassName","append","newValue"],"sourceRoot":""}