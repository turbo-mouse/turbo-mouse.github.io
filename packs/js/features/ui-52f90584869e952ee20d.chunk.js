"use strict";(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[79],{1457:function(e,t,o){o.r(t);var i=o(2057),n=(o(15),o(5),o(1103)),a=o(1),r=o(2077),s=o(43),l=o(2),d=o(82),c=o(3);t.default=function(e){var t=e.limit,o=(0,c.TL)(),u=(0,c.CG)((function(e){var t;return(null===(t=e.user_lists.birthday_reminders.get(e.me))||void 0===t?void 0:t.items)||(0,n.OrderedSet)()})).slice(0,t),f=(0,a.useRef)(),v=function e(){var t,i=new Date,n=i.getDate(),a=i.getMonth()+1;null===(t=o((0,s.xol)(a,n)))||void 0===t||t.then((function(){var t;f.current=setTimeout((function(){return e()}),(t=new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,0,0).getTime()-t.getTime()))}))};return a.useEffect((function(){return v(),function(){f.current&&clearTimeout(f.current)}}),[]),u.isEmpty()?null:(0,i.Z)(l.$L,{title:(0,i.Z)(r.Z,{id:"birthday_panel.title",defaultMessage:"Birthdays"})},void 0,u.map((function(e){return(0,i.Z)(d.Z,{id:e},e)})))}},1484:function(e,t,o){o.r(t),o.d(t,{ProfileHoverCard:function(){return x}});var i=o(2075),n=o(2047),a=o(2057),r=(o(4),o(418)),s=o(1),l=o(2059),d=o(2077),c=o(755),u=o(2050),f=o(43),v=o(2090),m=o(896),Z=o(895),g=o(93),p=o(83),h=o(3),_=o(38),y=o(106),b=o(894),M=o(2),C=(0,_.Tm)(),w=function(e){return function(){e((0,v.P_)())}},k=function(e){return function(){e((0,v.Ex)(!0))}},x=function(e){var t,_=e.visible,x=void 0===_||_,E=(0,h.TL)(),N=(0,u.k6)(),S=(0,l.Z)(),T=(0,s.useState)(null),I=(0,n.Z)(T,2),R=I[0],O=I[1],L=(0,h.CG)((function(e){return e.me})),A=(0,h.CG)((function(e){return e.profile_hover_card.accountId||void 0})),D=(0,h.CG)((function(e){return A&&C(e,A)})),P=(0,h.CG)((function(e){var t;return null===(t=e.profile_hover_card.ref)||void 0===t?void 0:t.current})),U=D?function(e){var t=[];return e.admin?t.push((0,a.Z)(m.Z,{slug:"admin",title:"Admin"},"admin")):e.moderator&&t.push((0,a.Z)(m.Z,{slug:"moderator",title:"Moderator"},"moderator")),e.getIn(["patron","is_patron"])&&t.push((0,a.Z)(m.Z,{slug:"patron",title:"Patron"},"patron")),t}(D):[];(0,s.useEffect)((function(){A&&E((0,f.dmJ)([A]))}),[E,A]),(0,s.useEffect)((function(){var e=N.listen((function(){b.Uv.cancel(),E((0,v.Ex)())}));return function(){e()}}),[]);var z=(0,c.D)(P,R),F=z.styles,G=z.attributes;if(!D)return null;var q={__html:D.note_emojified},K=S.formatDate(D.created_at,{month:"long",year:"numeric"}),Y=L!==D.id&&!0===(null===(t=D.relationship)||void 0===t?void 0:t.followed_by);return s.createElement("div",(0,i.Z)({className:(0,r.default)({"absolute transition-opacity w-[320px] z-[101] top-0 left-0":!0,"opacity-100":x,"opacity-0 pointer-events-none":!x}),ref:O,style:F.popper},G.popper,{onMouseEnter:w(E),onMouseLeave:k(E)}),(0,a.Z)(M.Zb,{variant:"rounded",className:"relative isolate"},void 0,(0,a.Z)(M.eW,{},void 0,(0,a.Z)(M.Kq,{space:2},void 0,(0,a.Z)(g.Z,{fetchComponent:p.i1},void 0,(function(e){return(0,a.Z)(e,{accountId:D.get("id"),action:(0,a.Z)(Z.Z,{account:D,small:!0}),badges:U})})),(0,y.D0)(D)?(0,a.Z)(M.Ug,{alignItems:"center",space:.5},void 0,(0,a.Z)(M.JO,{src:o(909),className:"h-4 w-4 text-gray-800 dark:text-gray-200"}),(0,a.Z)(M.xv,{size:"sm"},void 0,(0,a.Z)(d.Z,{id:"account.member_since",defaultMessage:"Joined {date}",values:{date:K}}))):null,D.note.length>0&&(0,a.Z)(M.xv,{size:"sm",dangerouslySetInnerHTML:q})),Y&&(0,a.Z)("div",{className:"absolute top-2 left-2"},void 0,(0,a.Z)(m.Z,{slug:"opaque",title:(0,a.Z)(d.Z,{id:"account.follows_you",defaultMessage:"Follows you"})})))))};t.default=x},1482:function(e,t,o){o.r(t);var i=o(2047),n=o(2057),a=(o(5),o(418)),r=o(1),s=o(2058),l=o(2059),d=o(2077),c=o(2076),u=o(96),f=o(66),v=o(2100),m=o(107),Z=o(2),g=o(1135),p=o(3),h=o(38),_=(0,s.vU)({followers:{id:"account.followers",defaultMessage:"Followers"},follows:{id:"account.follows",defaultMessage:"Follows"},profile:{id:"account.profile",defaultMessage:"Profile"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domainBlocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},soapboxConfig:{id:"navigation_bar.soapbox_config",defaultMessage:"Soapbox config"},accountMigration:{id:"navigation_bar.account_migration",defaultMessage:"Move account"},accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},lists:{id:"column.lists",defaultMessage:"Lists"},groups:{id:"column.groups",defaultMessage:"Groups"},events:{id:"column.events",defaultMessage:"Events"},invites:{id:"navigation_bar.invites",defaultMessage:"Invites"},developers:{id:"navigation.developers",defaultMessage:"Developers"},addAccount:{id:"profile_dropdown.add_account",defaultMessage:"Add an existing account"},followRequests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},close:{id:"lightbox.close",defaultMessage:"Close"}}),y=function(e){var t=e.href,o=e.to,i=e.icon,a=e.text,r=e.onClick,s=(0,n.Z)(Z.Ug,{space:2,alignItems:"center"},void 0,(0,n.Z)("div",{className:"relative inline-flex rounded-full bg-primary-50 p-2 dark:bg-gray-800"},void 0,(0,n.Z)(Z.JO,{src:i,className:"h-5 w-5 text-primary-500"})),(0,n.Z)(Z.xv,{tag:"span",weight:"medium",theme:"inherit"},void 0,a));return o?(0,n.Z)(c.OL,{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",to:o,onClick:r},void 0,s):(0,n.Z)("a",{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",href:t,target:"_blank",onClick:r},void 0,s)},b=(0,h._H)();t.default=function(){var e=(0,l.Z)(),t=(0,p.TL)(),s=(0,p.hz)(),M=(0,h.Tm)(),C=(0,p.CG)((function(e){return e.me})),w=(0,p.CG)((function(e){return C?M(e,C):null})),k=(0,p.CG)((function(e){return b(e)})),x=(0,p.CG)((function(e){return e.sidebar.sidebarOpen})),E=(0,p.CG)((function(e){return(0,f.Gw)(e)})),N=(0,p.CG)((function(e){return e.user_lists.follow_requests.items.count()})),S=r.useRef(null),T=r.useState(!1),I=(0,i.Z)(T,2),R=I[0],O=I[1],L=function(){return t((0,v.Xp)())},A=function(){O(!1),L()},D=function(e){return function(o){o.preventDefault(),t((0,u.yD)(e.id))}};return r.useEffect((function(){t((0,u.Y)())}),[]),w?(0,n.Z)("div",{"aria-expanded":x,className:(0,a.default)({"z-[1000]":x,hidden:!x})},void 0,(0,n.Z)("div",{className:"fixed inset-0 bg-gray-500/90 dark:bg-gray-700/90",role:"button",onClick:A}),(0,n.Z)("div",{className:"fixed inset-0 z-[1000] flex"},void 0,(0,n.Z)("div",{className:(0,a.default)({"flex flex-col flex-1 bg-white dark:bg-primary-900 -translate-x-full rtl:translate-x-full w-full max-w-xs":!0,"!translate-x-0":x})},void 0,r.createElement(Z.hU,{title:e.formatMessage(_.close),onClick:A,src:o(80),ref:S,iconClassName:"h-6 w-6",className:"absolute top-0 right-0 -mr-11 mt-2 text-gray-600 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}),(0,n.Z)("div",{className:"relative h-full w-full overflow-auto overflow-y-scroll"},void 0,(0,n.Z)("div",{className:"p-4"},void 0,(0,n.Z)(Z.Kq,{space:4},void 0,(0,n.Z)(c.rU,{to:"/@".concat(w.acct),onClick:L},void 0,(0,n.Z)(m.Z,{account:w,showProfileHoverCard:!1,withLinkToProfile:!1})),(0,n.Z)(g.Z,{account:w,onClickHandler:A}),(0,n.Z)(Z.Kq,{space:4},void 0,(0,n.Z)(Z.iz,{}),(0,n.Z)(y,{to:"/@".concat(w.acct),icon:o(893),text:e.formatMessage(_.profile),onClick:L}),(w.locked||N>0)&&(0,n.Z)(y,{to:"/follow_requests",icon:o(885),text:e.formatMessage(_.followRequests),onClick:L}),s.bookmarks&&(0,n.Z)(y,{to:"/bookmarks",icon:o(910),text:e.formatMessage(_.bookmarks),onClick:L}),s.groups&&(0,n.Z)(y,{to:"/groups",icon:o(900),text:e.formatMessage(_.groups),onClick:L}),s.lists&&(0,n.Z)(y,{to:"/lists",icon:o(886),text:e.formatMessage(_.lists),onClick:L}),s.events&&(0,n.Z)(y,{to:"/events",icon:o(902),text:e.formatMessage(_.events),onClick:L}),E.get("isDeveloper")&&(0,n.Z)(y,{to:"/developers",icon:o(1114),text:e.formatMessage(_.developers),onClick:L}),s.publicTimeline&&r.createElement(r.Fragment,null,(0,n.Z)(Z.iz,{}),(0,n.Z)(y,{to:"/timeline/local",icon:s.federating?o(972):o(904),text:s.federating?(0,n.Z)(d.Z,{id:"tabs_bar.local",defaultMessage:"Local"}):(0,n.Z)(d.Z,{id:"tabs_bar.all",defaultMessage:"All"}),onClick:L}),s.federating&&(0,n.Z)(y,{to:"/timeline/fediverse",icon:o(1115),text:(0,n.Z)(d.Z,{id:"tabs_bar.fediverse",defaultMessage:"Fediverse"}),onClick:L})),(0,n.Z)(Z.iz,{}),(0,n.Z)(y,{to:"/blocks",icon:o(105),text:e.formatMessage(_.blocks),onClick:L}),(0,n.Z)(y,{to:"/mutes",icon:o(210),text:e.formatMessage(_.mutes),onClick:L}),(0,n.Z)(y,{to:"/settings/preferences",icon:o(903),text:e.formatMessage(_.preferences),onClick:L}),s.federating&&(0,n.Z)(y,{to:"/domain_blocks",icon:o(105),text:e.formatMessage(_.domainBlocks),onClick:L}),s.filters&&(0,n.Z)(y,{to:"/filters",icon:o(1522),text:e.formatMessage(_.filters),onClick:L}),w.admin&&(0,n.Z)(y,{to:"/soapbox/config",icon:o(903),text:e.formatMessage(_.soapboxConfig),onClick:L}),(0,n.Z)(Z.iz,{}),(0,n.Z)(y,{to:"/logout",icon:o(888),text:e.formatMessage(_.logout),onClick:function(e){e.preventDefault(),t((0,u.ni)())}}),(0,n.Z)(Z.iz,{}),(0,n.Z)(Z.Kq,{space:4},void 0,(0,n.Z)("button",{type:"button",onClick:function(e){e.preventDefault(),O((function(e){return!e}))},className:"py-1"},void 0,(0,n.Z)(Z.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,n.Z)(Z.xv,{tag:"span"},void 0,(0,n.Z)(d.Z,{id:"profile_dropdown.switch_account",defaultMessage:"Switch accounts"})),(0,n.Z)(Z.JO,{src:o(906),className:(0,a.default)("h-4 w-4 text-gray-900 transition-transform dark:text-gray-100",{"rotate-180":R})}))),R&&(0,n.Z)("div",{className:"border-t-2 border-solid border-gray-100 dark:border-gray-800"},void 0,k.map((function(e){return function(e){return(0,n.Z)("a",{href:"#",className:"block py-2",onClick:D(e)},e.id,(0,n.Z)("div",{className:"pointer-events-none"},void 0,(0,n.Z)(m.Z,{account:e,showProfileHoverCard:!1,withRelationship:!1,withLinkToProfile:!1})))}(e)})),(0,n.Z)(c.OL,{className:"flex items-center space-x-1 py-2",to:"/login/add",onClick:A},void 0,(0,n.Z)(Z.JO,{className:"h-4 w-4 text-primary-500",src:o(152)}),(0,n.Z)(Z.xv,{size:"sm",weight:"medium"},void 0,e.formatMessage(_.addAccount)))))))))),(0,n.Z)("div",{"aria-hidden":!0,className:"w-14 shrink-0",onClick:A}))):null}},1485:function(e,t,o){o.r(t),o.d(t,{StatusHoverCard:function(){return g}});var i=o(2075),n=o(2057),a=o(2047),r=o(418),s=o(1),l=o(755),d=o(2050),c=o(2093),u=o(94),f=o(890),v=o(3),m=o(1112),Z=o(2),g=function(e){var t=e.visible,o=void 0===t||t,g=(0,v.TL)(),p=(0,d.k6)(),h=(0,s.useState)(null),_=(0,a.Z)(h,2),y=_[0],b=_[1],M=(0,v.CG)((function(e){return e.status_hover_card.statusId||void 0})),C=(0,v.CG)((function(e){return e.statuses.get(M)})),w=(0,v.CG)((function(e){var t;return null===(t=e.status_hover_card.ref)||void 0===t?void 0:t.current}));(0,s.useEffect)((function(){M&&!C&&g((0,u.UK)(M))}),[M,C]),(0,s.useEffect)((function(){var e=p.listen((function(){m.g4.cancel(),g((0,c.SB)())}));return function(){e()}}),[]);var k=(0,l.D)(w,y,{placement:"top"}),x=k.styles,E=k.attributes,N=(0,s.useCallback)((function(){return function(){g((0,c.Em)())}}),[]),S=(0,s.useCallback)((function(){return function(){g((0,c.SB)(!0))}}),[]);return M?s.createElement("div",(0,i.Z)({className:(0,r.default)({"absolute transition-opacity w-[500px] z-50 top-0 left-0":!0,"opacity-100":o,"opacity-0 pointer-events-none":!o}),ref:b,style:x.popper},E.popper,{onMouseEnter:N(),onMouseLeave:S()}),(0,n.Z)(Z.Zb,{className:"relative"},void 0,(0,n.Z)(Z.eW,{},void 0,function(e){return(0,n.Z)(f.Z,{id:e,hoverable:!1,hideActionBar:!0,muted:!0},e)}(M)))):null};t.default=g},1475:function(e,t,o){o.r(t);var i=o(2057),n=o(2077),a=o(2),r=o(3);t.default=function(){var e=(0,r.fz)(),t=(0,r.pO)().isOpen,o=(0,r.Dn)().displayCta;return!(0,r.CG)((function(e){return e.me}))&&o&&t?(0,i.Z)("div",{"data-testid":"cta-banner",className:"hidden lg:block"},void 0,(0,i.Z)(a.jL,{theme:"frosted"},void 0,(0,i.Z)(a.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,i.Z)(a.Kq,{},void 0,(0,i.Z)(a.xv,{theme:"white",size:"xl",weight:"bold"},void 0,(0,i.Z)(n.Z,{id:"signup_panel.title",defaultMessage:"New to {site_title}?",values:{site_title:e.title}})),(0,i.Z)(a.xv,{theme:"white",weight:"medium",className:"opacity-90"},void 0,(0,i.Z)(n.Z,{id:"signup_panel.subtitle",defaultMessage:"Sign up now to discuss what's happening."}))),(0,i.Z)(a.Ug,{space:2,alignItems:"center"},void 0,(0,i.Z)(a.zx,{theme:"secondary",to:"/login"},void 0,(0,i.Z)(n.Z,{id:"account.login",defaultMessage:"Log in"})),(0,i.Z)(a.zx,{theme:"accent",to:"/signup"},void 0,(0,i.Z)(n.Z,{id:"account.register",defaultMessage:"Sign up"})))))):null}},1476:function(e,t,o){o.r(t);var i=o(2057),n=(o(29),o(1)),a=o(2077),r=o(978),s=o(2),l=o(3),d=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"usd",notation:"compact"}).format(e/100)};t.default=function(){var e=(0,l.TL)(),t=(0,l.CG)((function(e){return e.patron.instance}));if((0,n.useEffect)((function(){e((0,r.vT)())}),[]),t.funding.isEmpty()||t.goals.isEmpty())return null;var o,c=t.getIn(["funding","amount"]),u=t.getIn(["goals","0","amount"]),f=t.getIn(["goals","0","text"]);o=c>=u?n.createElement(n.Fragment,null,(0,i.Z)("strong",{},void 0,d(u))," per month ",(0,i.Z)("span",{},void 0,"— reached!")):n.createElement(n.Fragment,null,(0,i.Z)("strong",{},void 0,d(c)," out of ",d(u))," per month");var v=function(){var e;e=t.url,Object.assign(document.createElement("a"),{target:"_blank",href:e}).click()};return(0,i.Z)(s.$L,{title:(0,i.Z)(a.Z,{id:"patron.title",defaultMessage:"Funding Goal"}),onActionClick:v},void 0,(0,i.Z)(s.Kq,{space:4},void 0,(0,i.Z)(s.Kq,{space:2},void 0,(0,i.Z)(s.xv,{},void 0,o),(0,i.Z)(s.ko,{progress:c/u})),(0,i.Z)(s.Kq,{space:2},void 0,(0,i.Z)(s.xv,{theme:"muted"},void 0,f),(0,i.Z)(s.zx,{block:!0,theme:"primary",onClick:v},void 0,(0,i.Z)(a.Z,{id:"patron.donate",defaultMessage:"Donate"})))))}},1458:function(e,t,o){o.r(t);var i=o(2057),n=o(2058),a=o(2059),r=o(2077),s=o(1002),l=o(2073),d=o(2),c=o(3),u=o(38),f=(0,n.vU)({placeholder:{id:"account_note.placeholder",defaultMessage:"No comment provided"},save:{id:"account_note.save",defaultMessage:"Save"}}),v=(0,u.Tm)();t.default=function(){var e=(0,a.Z)(),t=(0,c.TL)(),o=(0,c.CG)((function(e){return e.account_notes.edit.isSubmitting})),n=(0,c.CG)((function(e){return v(e,e.account_notes.edit.account)})),u=(0,c.CG)((function(e){return e.account_notes.edit.comment})),m=function(){t((0,s.Td)())};return(0,i.Z)(d.u_,{title:(0,i.Z)(r.Z,{id:"account_note.target",defaultMessage:"Note for @{target}",values:{target:n.acct}}),onClose:function(){t((0,l.Mr)("ACCOUNT_NOTE"))},confirmationAction:m,confirmationText:e.formatMessage(f.save),confirmationDisabled:o},void 0,(0,i.Z)(d.xv,{theme:"muted"},void 0,(0,i.Z)(r.Z,{id:"account_note.hint",defaultMessage:"You can keep notes about this user for yourself (this will not be shared with them):"})),(0,i.Z)("textarea",{className:"setting-text light",placeholder:e.formatMessage(f.placeholder),value:u,onChange:function(e){t((0,s.zh)(e.target.value))},onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&m()},disabled:o,autoFocus:!0}))}},1447:function(e,t,o){o.r(t);var i=o(2075),n=o(2057),a=(o(7),o(5),o(418)),r=o(1),s=o(2077),l=o(181),d=o(55),c=o(2),u=o(999),f=o(282);t.default=function(e){var t=e.status,o=e.actions,v=e.onClick,m=e.onClose,Z=function(e,t){if(null===e)return(0,n.Z)("li",{className:"dropdown-menu__separator"},"sep-".concat(t));var o=e.icon,s=void 0===o?null:o,l=e.text,u=e.meta,f=void 0===u?null:u,m=e.active,Z=void 0!==m&&m,g=e.href,p=void 0===g?"#":g,h=e.destructive,_="#"===p?"button":"a",y="#"===p?{onClick:v}:{href:p,rel:"noopener"};return(0,n.Z)("li",{},"".concat(l,"-").concat(t),r.createElement(c.Ug,(0,i.Z)({},y,{space:2.5,"data-index":t,className:(0,a.default)("w-full",{active:Z,destructive:h}),element:_}),s&&(0,n.Z)(d.Z,{title:l,src:s,role:"presentation",tabIndex:-1}),(0,n.Z)("div",{},void 0,(0,n.Z)("div",{className:(0,a.default)({"actions-modal__item-label":!!f})},void 0,l),(0,n.Z)("div",{},void 0,f))))};return(0,n.Z)(f.Z,{defaultStyle:{top:100},style:{top:(0,l.ST)(0)}},void 0,(function(e){var i=e.top;return(0,n.Z)("div",{className:"modal-root__modal actions-modal",style:{top:"".concat(i,"%")}},void 0,t&&(0,n.Z)(u.Z,{className:"actions-modal__status rounded-b-none",status:t,hideActions:!0}),(0,n.Z)("ul",{className:(0,a.default)({"with-status":!!t})},void 0,o&&o.map(Z),(0,n.Z)("li",{className:"dropdown-menu__separator"}),(0,n.Z)("li",{},void 0,(0,n.Z)("button",{type:"button",onClick:m},void 0,(0,n.Z)(s.Z,{id:"lightbox.close",defaultMessage:"Cancel"})))))}))}},766:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var i=o(2057),n=(o(5),o(2077)),a=o(57),r=o(2),s=o(1),l=o(2058),d=o(2059),c=o(107),u=o(55),f=o(3),v=o(38),m=(0,l.vU)({birthday:{id:"account.birthday",defaultMessage:"Born {date}"}}),Z=function(e){var t=e.accountId,n=(0,d.Z)(),a=(0,s.useCallback)((0,v.Tm)(),[]),l=(0,f.CG)((function(e){return a(e,t)}));if(!l)return null;var Z=l.birthday;if(!Z)return null;var g=n.formatDate(Z,{day:"numeric",month:"short",year:"numeric"});return(0,i.Z)(r.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,i.Z)("div",{className:"w-full"},void 0,(0,i.Z)(c.Z,{account:l,withRelationship:!1})),(0,i.Z)("div",{className:"flex items-center gap-0.5",title:n.formatMessage(m.birthday,{date:g})},void 0,(0,i.Z)(u.Z,{src:o(1128)}),g))},g=function(e){var t,o=e.onClose,s=(0,f.CG)((function(e){var t;return null===(t=e.user_lists.birthday_reminders.get(e.me))||void 0===t?void 0:t.items}));if(s){var l=(0,i.Z)(n.Z,{id:"birthdays_modal.empty",defaultMessage:"None of your friends have birthday today."});t=(0,i.Z)(a.Z,{scrollKey:"birthdays",emptyMessage:l,className:"max-w-full",itemClassName:"pb-3"},void 0,s.map((function(e){return(0,i.Z)(Z,{accountId:e},e)})))}else t=(0,i.Z)(r.$j,{});return(0,i.Z)(r.u_,{title:(0,i.Z)(n.Z,{id:"column.birthdays",defaultMessage:"Birthdays"}),onClose:function(){o("BIRTHDAYS")}},void 0,t)}},1444:function(e,t,o){o.r(t);var i=o(2057),n=o(2058),a=o(2059),r=o(2077),s=o(55),l=o(2),d=o(999),c=(0,n.vU)({cancel_reblog:{id:"status.cancel_reblog_private",defaultMessage:"Un-repost"},reblog:{id:"status.reblog",defaultMessage:"Repost"}});t.default=function(e){var t=e.status,n=e.onReblog,u=e.onClose,f=(0,a.Z)(),v=t.reblogged?c.cancel_reblog:c.reblog;return(0,i.Z)(l.u_,{title:(0,i.Z)(r.Z,{id:"boost_modal.title",defaultMessage:"Repost?"}),confirmationAction:function(){n(t),u()},confirmationText:f.formatMessage(v)},void 0,(0,i.Z)(l.Kq,{space:4},void 0,(0,i.Z)(d.Z,{status:t,hideActions:!0}),(0,i.Z)(l.xv,{},void 0,(0,i.Z)(r.Z,{id:"boost_modal.combo",defaultMessage:"You can press {combo} to skip this next time",values:{combo:(0,i.Z)("span",{},void 0,"Shift + ",(0,i.Z)(s.Z,{className:"inline-block align-middle",src:o(200)}))}}))))}},1451:function(e,t,o){o.r(t);var i=o(2057),n=o(2075),a=o(1),r=o(2);t.default=function(e){var t=e.onClose,o=e.component,s=e.componentProps,l=void 0===s?{}:s;return(0,i.Z)(r.u_,{onClose:t,title:""},void 0,a.createElement(o,(0,n.Z)({onClose:t},l)))}},1449:function(e,t,o){o.r(t);var i=o(2057),n=o(2058),a=o(2059),r=o(2077),s=o(69),l=o(2073),d=o(1005),c=o(2),u=o(3),f=o(539),v=(0,n.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},confirm:{id:"confirmations.cancel.confirm",defaultMessage:"Discard"},cancelEditing:{id:"confirmations.cancel_editing.confirm",defaultMessage:"Cancel editing"}});t.default=function(e){var t=e.onClose,n=(0,a.Z)(),m=(0,u.TL)(),Z=(0,u.$r)("compose-modal"),g=Z,p=g.id,h=g.privacy,_=g.in_reply_to,y=g.quote;return(0,i.Z)(c.u_,{title:p?(0,i.Z)(r.Z,{id:"navigation_bar.compose_edit",defaultMessage:"Edit post"}):"direct"===h?(0,i.Z)(r.Z,{id:"navigation_bar.compose_direct",defaultMessage:"Direct message"}):_?(0,i.Z)(r.Z,{id:"navigation_bar.compose_reply",defaultMessage:"Reply to post"}):y?(0,i.Z)(r.Z,{id:"navigation_bar.compose_quote",defaultMessage:"Quote post"}):(0,i.Z)(r.Z,{id:"navigation_bar.compose",defaultMessage:"Compose new post"}),onClose:function(){(0,d.$u)(Z)?m((0,l.h7)("CONFIRM",{icon:o(97),heading:p?(0,i.Z)(r.Z,{id:"confirmations.cancel_editing.heading",defaultMessage:"Cancel post editing"}):(0,i.Z)(r.Z,{id:"confirmations.cancel.heading",defaultMessage:"Discard post"}),message:p?(0,i.Z)(r.Z,{id:"confirmations.cancel_editing.message",defaultMessage:"Are you sure you want to cancel editing this post? All changes will be lost."}):(0,i.Z)(r.Z,{id:"confirmations.cancel.message",defaultMessage:"Are you sure you want to cancel creating this post?"}),confirm:n.formatMessage(p?v.cancelEditing:v.confirm),onConfirm:function(){m((0,l.Mr)("COMPOSE")),m((0,s.qY)())}})):t("COMPOSE")}},void 0,(0,i.Z)(f.Z,{id:"compose-modal"}))}},1445:function(e,t,o){o.r(t);var i=o(2057),n=o(2047),a=o(1),r=o(2077),s=o(98),l=o(2);t.default=function(e){var t=e.heading,o=e.message,d=e.confirm,c=e.onClose,u=e.onConfirm,f=e.secondary,v=e.onSecondary,m=e.onCancel,Z=e.checkbox,g=e.confirmationTheme,p=void 0===g?"danger":g,h=(0,a.useState)(!1),_=(0,n.Z)(h,2),y=_[0],b=_[1];return(0,i.Z)(l.u_,{title:t,confirmationAction:function(){c("CONFIRM"),u()},confirmationText:d,confirmationDisabled:Z&&!y,confirmationTheme:p,cancelText:(0,i.Z)(r.Z,{id:"confirmation_modal.cancel",defaultMessage:"Cancel"}),cancelAction:function(){c("CONFIRM"),m&&m()},secondaryText:f,secondaryAction:v&&function(){c("CONFIRM"),v()}},void 0,(0,i.Z)(l.Kq,{space:4},void 0,(0,i.Z)(l.xv,{},void 0,o),Z&&(0,i.Z)(s.Z,{},void 0,(0,i.Z)(s.H,{label:Z},void 0,(0,i.Z)(l.ZD,{checked:y,onChange:function(e){b(e.target.checked)},required:!0})))))}},764:function(e,t,o){o.r(t),o.d(t,{default:function(){return _}});var i=o(2057),n=o(2047),a=o(1103),r=o(1),s=o(2058),l=o(2059),d=o(2077),c=o(304),u=(o(5),o(412)),f=o(87),v=o(98),m=o(2),Z=o(3),g=o(38),p=o(37),h=(0,s.vU)({mediaRemoval:{id:"edit_federation.media_removal",defaultMessage:"Strip media"},forceNsfw:{id:"edit_federation.force_nsfw",defaultMessage:"Force attachments to be marked sensitive"},unlisted:{id:"edit_federation.unlisted",defaultMessage:"Force posts unlisted"},followersOnly:{id:"edit_federation.followers_only",defaultMessage:"Hide posts except to followers"},save:{id:"edit_federation.save",defaultMessage:"Save"},success:{id:"edit_federation.success",defaultMessage:"{host} federation was updated"}}),_=function(e){var t=e.host,o=e.onClose,s=(0,l.Z)(),_=(0,Z.TL)(),y=(0,r.useCallback)((0,g.Go)(),[]),b=(0,Z.CG)((function(e){return y(e,t)})),M=(0,r.useState)((0,a.Map)()),C=(0,n.Z)(M,2),w=C[0],k=C[1];(0,r.useEffect)((function(){k(b.get("federation"))}),[b]);var x=function(e){return function(t){var o=t.target;k(w.set(e,o.checked))}},E=w.toJS(),N=E.avatar_removal,S=E.banner_removal,T=E.federated_timeline_removal,I=E.followers_only,R=E.media_nsfw,O=E.media_removal,L=E.reject,A=N&&S&&O;return(0,i.Z)(m.u_,{onClose:o,title:t,confirmationAction:function(){_(function(e,t){return function(o,i){return o((0,f.Q2)()).then((function(){var n=i().admin.get("configs"),r=function(e,t,o){return e.map((function(e,i){return o.get(i)?(0,a.Set)(e).add(t):(0,a.Set)(e).delete(t)}))}(u.Z.toSimplePolicy(n),e,t),s=u.Z.fromSimplePolicy(r);return o((0,f.rF)(s.toJS()))}))}}(t,w)).then((function(){return p.Z.success(s.formatMessage(h.success,{host:t}))})).catch((function(){})),o()},confirmationText:s.formatMessage(h.save)},void 0,(0,i.Z)(v.Z,{},void 0,(0,i.Z)(v.H,{label:(0,i.Z)(d.Z,{id:"edit_federation.reject",defaultMessage:"Reject all activities"})},void 0,(0,i.Z)(c.Z,{checked:L,onChange:x("reject"),icons:!1,id:"reject"})),(0,i.Z)(v.H,{label:(0,i.Z)(d.Z,{id:"edit_federation.media_removal",defaultMessage:"Strip media"})},void 0,(0,i.Z)(c.Z,{checked:A,onChange:function(e){var t=e.target.checked,o=w.merge({avatar_removal:t,banner_removal:t,media_removal:t});k(o)},icons:!1,id:"media_removal",disabled:L})),(0,i.Z)(v.H,{label:(0,i.Z)(d.Z,{id:"edit_federation.force_nsfw",defaultMessage:"Force attachments to be marked sensitive"})},void 0,(0,i.Z)(c.Z,{checked:R,onChange:x("media_nsfw"),icons:!1,id:"media_nsfw",disabled:L||O})),(0,i.Z)(v.H,{label:(0,i.Z)(d.Z,{id:"edit_federation.followers_only",defaultMessage:"Hide posts except to followers"})},void 0,(0,i.Z)(c.Z,{checked:I,onChange:x("followers_only"),icons:!1,id:"followers_only",disabled:L})),(0,i.Z)(v.H,{label:(0,i.Z)(d.Z,{id:"edit_federation.unlisted",defaultMessage:"Force posts unlisted"})},void 0,(0,i.Z)(c.Z,{checked:T,onChange:x("federated_timeline_removal"),icons:!1,id:"federated_timeline_removal",disabled:L||I}))))}},1453:function(e,t,o){o.r(t);var i=o(2057),n=(o(5),o(1)),a=o(2077),r=o(158),s=o(57),l=o(2),d=o(82),c=o(3);t.default=function(e){var t,o=e.onClose,u=e.statusId,f=(0,c.TL)(),v=(0,c.CG)((function(e){var t;return null===(t=e.user_lists.favourited_by.get(u))||void 0===t?void 0:t.items}));if((0,n.useEffect)((function(){f((0,r.eA)(u))}),[]),v){var m=(0,i.Z)(a.Z,{id:"empty_column.favourites",defaultMessage:"No one has liked this post yet. When someone does, they will show up here."});t=(0,i.Z)(s.Z,{scrollKey:"favourites",emptyMessage:m,className:"max-w-full",itemClassName:"pb-3"},void 0,v.map((function(e){return(0,i.Z)(d.Z,{id:e},e)})))}else t=(0,i.Z)(l.$j,{});return(0,i.Z)(l.u_,{title:(0,i.Z)(a.Z,{id:"column.favourites",defaultMessage:"Likes"}),onClose:function(){o("FAVOURITES")}},void 0,t)}},1448:function(e,t,o){o.r(t);var i=o(2057),n=o(2077),a=o(2),r=o(3),s=function(e){var t=e.children;return(0,i.Z)("kbd",{className:"rounded-md border border-solid border-primary-200 bg-primary-50 px-1.5 py-1 font-sans text-xs dark:border-gray-700 dark:bg-gray-800"},void 0,t)},l=function(e){var t=e.children;return(0,i.Z)("td",{className:"px-2 pb-3"},void 0,t)};t.default=function(e){var t=e.onClose,o=(0,r.hz)();return(0,i.Z)(a.u_,{title:(0,i.Z)(n.Z,{id:"keyboard_shortcuts.heading",defaultMessage:"Keyboard shortcuts"}),onClose:t,width:"4xl"},void 0,(0,i.Z)("div",{className:"flex flex-col text-xs lg:flex-row"},void 0,(0,i.Z)("table",{},void 0,(0,i.Z)("thead",{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)("th",{className:"pb-2 font-bold"},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,i.Z)("tbody",{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"r")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.reply",defaultMessage:"to reply"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"m")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.mention",defaultMessage:"to mention author"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"p")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.profile",defaultMessage:"to open author's profile"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"f")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.favourite",defaultMessage:"to like"}))),o.emojiReacts&&(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"e")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.react",defaultMessage:"to react"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"b")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.boost",defaultMessage:"to repost"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"enter"),", ",(0,i.Z)(s,{},void 0,"o")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.enter",defaultMessage:"to open post"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"a")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.open_media",defaultMessage:"to open media"}))))),(0,i.Z)("table",{},void 0,(0,i.Z)("thead",{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)("th",{className:"pb-2 font-bold"},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,i.Z)("tbody",{},void 0,o.spoilers&&(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"x")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.toggle_hidden",defaultMessage:"to show/hide text behind CW"}))),o.spoilers&&(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"h")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.toggle_sensitivity",defaultMessage:"to show/hide media"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"up"),", ",(0,i.Z)(s,{},void 0,"k")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.up",defaultMessage:"to move up in the list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"down"),", ",(0,i.Z)(s,{},void 0,"j")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.down",defaultMessage:"to move down in the list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"n")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.compose",defaultMessage:"to focus the compose textarea"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"alt")," + ",(0,i.Z)(s,{},void 0,"n")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.toot",defaultMessage:"to start a new post"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"backspace")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.back",defaultMessage:"to navigate back"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"s")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.search",defaultMessage:"to focus search"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"esc")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.unfocus",defaultMessage:"to un-focus compose textarea/search"}))))),(0,i.Z)("table",{},void 0,(0,i.Z)("thead",{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)("th",{className:"pb-2 font-bold"},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,i.Z)("tbody",{},void 0,(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"h")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.home",defaultMessage:"to open home timeline"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"n")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.notifications",defaultMessage:"to open notifications column"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"f")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.favourites",defaultMessage:"to open likes list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"p")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.pinned",defaultMessage:"to open pinned posts list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"u")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.my_profile",defaultMessage:"to open your profile"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"b")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.blocked",defaultMessage:"to open blocked users list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"m")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.muted",defaultMessage:"to open muted users list"}))),o.followRequests&&(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"g")," + ",(0,i.Z)(s,{},void 0,"r")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.requests",defaultMessage:"to open follow requests list"}))),(0,i.Z)("tr",{},void 0,(0,i.Z)(l,{},void 0,(0,i.Z)(s,{},void 0,"?")),(0,i.Z)(l,{},void 0,(0,i.Z)(n.Z,{id:"keyboard_shortcuts.legend",defaultMessage:"to display this legend"})))))))}},762:function(e,t,o){o.r(t),o.d(t,{default:function(){return A}});var i=o(2057),n=o(2047),a=(o(44),o(4),o(7),o(0),o(5),o(24),o(13),o(30),o(418)),r=o(1),s=o(2058),l=o(2059),d=o(2077),c=o(2050),u=o(917),f=o(2075),v=o(179),m=function(e){var t=e.src,o=e.alt,n=e.time,a=e.controls,s=e.muted,l=e.onClick,d=(0,r.useRef)(null);(0,r.useEffect)((function(){var e,t=function(){n&&(d.current.currentTime=n)};return null===(e=d.current)||void 0===e||e.addEventListener("loadeddata",t),function(){var e;null===(e=d.current)||void 0===e||e.removeEventListener("loadeddata",t)}}),[d.current]);var c={};return(0,v.gn)()&&(c.playsInline=!0),(0,i.Z)("div",{className:"extended-video-player"},void 0,r.createElement("video",(0,f.Z)({ref:d,src:t,autoPlay:!0,role:"button",tabIndex:0,"aria-label":o,title:o,muted:s,controls:a,loop:!a,onClick:function(e){e.stopPropagation(),l&&l()}},c)))},Z=o(55),g=o(184),p=o(741),h=o(546),_=o(3),y=(o(58),o(64),o(2053)),b=o(2054),M=o(2087),C=o(2088),w=o(2086),k=o(2085),x=o(2041);o(14),o(17),o(16),o(9),o(8),o(42);var E=function(e,t){return{x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}},N=function(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))},S=function(e,t,o){return Math.min(t,Math.max(e,o))},T=function(e){(0,C.Z)(a,e);var t,o,i=(t=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,k.Z)(t);if(o){var n=(0,k.Z)(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return(0,w.Z)(this,e)});function a(){var e;(0,y.Z)(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=i.call.apply(i,[this].concat(o)),(0,x.Z)((0,M.Z)(e),"state",{scale:1}),(0,x.Z)((0,M.Z)(e),"container",null),(0,x.Z)((0,M.Z)(e),"image",null),(0,x.Z)((0,M.Z)(e),"lastDistance",0),(0,x.Z)((0,M.Z)(e),"handleTouchStart",(function(t){if(2===t.touches.length){var o=Array.from(t.touches),i=(0,n.Z)(o,2),a=i[0],r=i[1];e.lastDistance=N(a,r)}})),(0,x.Z)((0,M.Z)(e),"handleTouchMove",(function(t){if(e.container){var o=e.container,i=o.scrollTop,a=o.scrollHeight,r=o.clientHeight;if(1!==t.touches.length||i===a-r){if(2===t.touches.length){t.preventDefault(),t.stopPropagation();var s=Array.from(t.touches),l=(0,n.Z)(s,2),d=l[0],c=l[1],u=N(d,c),f=E(d,c),v=S(1,4,e.state.scale*u/e.lastDistance);e.zoom(v,f),e.lastDistance=u}}else t.stopPropagation()}})),(0,x.Z)((0,M.Z)(e),"handleClick",(function(t){t.stopPropagation();var o=e.props.onClick;o&&o(t)})),(0,x.Z)((0,M.Z)(e),"setContainerRef",(function(t){e.container=t})),(0,x.Z)((0,M.Z)(e),"setImageRef",(function(t){e.image=t})),e}return(0,b.Z)(a,[{key:"componentDidMount",value:function(){var e,t;null===(e=this.container)||void 0===e||e.addEventListener("touchstart",this.handleTouchStart),null===(t=this.container)||void 0===t||t.addEventListener("touchmove",this.handleTouchMove,{passive:!1})}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=this.container)||void 0===e||e.removeEventListener("touchstart",this.handleTouchStart),null===(t=this.container)||void 0===t||t.removeEventListener("touchend",this.handleTouchMove)}},{key:"zoom",value:function(e,t){var o=this;if(this.container){var i=this.state.scale,n=this.container,a=n.scrollLeft,r=n.scrollTop,s=(a+t.x)*e/i-t.x,l=(r+t.y)*e/i-t.y;this.setState({scale:e},(function(){o.container&&(o.container.scrollLeft=s,o.container.scrollTop=l)}))}}},{key:"render",value:function(){var e=this.props,t=e.alt,o=e.src,i=this.state.scale,n=1===i?"hidden":"scroll";return r.createElement("div",{className:"zoomable-image",ref:this.setContainerRef,style:{overflow:n}},r.createElement("img",{role:"presentation",ref:this.setImageRef,alt:t,title:t,src:o,style:{transform:"scale(".concat(i,")"),transformOrigin:"0 0"},onClick:this.handleClick}))}}]),a}(r.PureComponent);(0,x.Z)(T,"defaultProps",{alt:"",width:null,height:null});var I=T;var R=function(e){(0,C.Z)(s,e);var t,o,n=(t=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,k.Z)(t);if(o){var n=(0,k.Z)(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return(0,w.Z)(this,e)});function s(){var e;(0,y.Z)(this,s);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),(0,x.Z)((0,M.Z)(e),"state",{loading:!0,error:!1,width:null}),(0,x.Z)((0,M.Z)(e),"removers",[]),(0,x.Z)((0,M.Z)(e),"canvas",null),(0,x.Z)((0,M.Z)(e),"_canvasContext",null),(0,x.Z)((0,M.Z)(e),"loadPreviewCanvas",(function(t){var o=t.previewSrc,i=t.width,n=t.height;return new Promise((function(t,a){var r=new Image,s=function(){r.removeEventListener("error",l),r.removeEventListener("load",d)},l=function(){s(),a()},d=function(){var o;s(),null===(o=e.canvasContext)||void 0===o||o.drawImage(r,0,0,i||0,n||0),t()};r.addEventListener("error",l),r.addEventListener("load",d),r.src=o||"",e.removers.push(s)}))})),(0,x.Z)((0,M.Z)(e),"loadOriginalImage",(function(t){var o=t.src;return new Promise((function(t,i){var n=new Image,a=function(){n.removeEventListener("error",r),n.removeEventListener("load",s)},r=function(){a(),i()},s=function(){a(),t()};n.addEventListener("error",r),n.addEventListener("load",s),n.src=o,e.removers.push(a)}))})),(0,x.Z)((0,M.Z)(e),"setCanvasRef",(function(t){e.canvas=t,t&&e.setState({width:t.offsetWidth})})),e}return(0,b.Z)(s,[{key:"canvasContext",get:function(){return this.canvas?(this._canvasContext=this._canvasContext||this.canvas.getContext("2d"),this._canvasContext):null}},{key:"componentDidMount",value:function(){this.loadImage(this.props)}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.loadImage(this.props)}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"loadImage",value:function(e){var t=this;this.removeEventListeners(),this.setState({loading:!0,error:!1}),Promise.all([e.previewSrc&&this.loadPreviewCanvas(e),this.hasSize()&&this.loadOriginalImage(e)].filter(Boolean)).then((function(){t.setState({loading:!1,error:!1}),t.clearPreviewCanvas()})).catch((function(){return t.setState({loading:!1,error:!0})}))}},{key:"clearPreviewCanvas",value:function(){if(this.canvas&&this.canvasContext){var e=this.canvas,t=e.width,o=e.height;this.canvasContext.clearRect(0,0,t,o)}}},{key:"removeEventListeners",value:function(){this.removers.forEach((function(e){return e()})),this.removers=[]}},{key:"hasSize",value:function(){var e=this.props,t=e.width,o=e.height;return"number"==typeof t&&"number"==typeof o}},{key:"render",value:function(){var e=this.props,t=e.alt,o=e.src,n=e.width,s=e.height,l=e.onClick,d=this.state.loading,c=(0,a.default)("image-loader",{"image-loader--loading":d,"image-loader--amorphous":!this.hasSize()});return(0,i.Z)("div",{className:c},void 0,d?r.createElement("canvas",{className:"image-loader__preview-canvas",ref:this.setCanvasRef,width:n,height:s}):(0,i.Z)(I,{alt:t,src:o,onClick:l}))}}]),s}(r.PureComponent);(0,x.Z)(R,"defaultProps",{alt:"",width:null,height:null});var O=R,L=(0,s.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},previous:{id:"lightbox.previous",defaultMessage:"Previous"},next:{id:"lightbox.next",defaultMessage:"Next"}}),A=function(e){var t=e.media,s=e.status,f=e.onClose,v=e.time,y=void 0===v?0:v,b=(0,l.Z)(),M=(0,c.k6)(),C=(0,_.TL)(),w=(0,r.useState)(null),k=(0,n.Z)(w,2),x=k[0],E=k[1],N=(0,r.useState)(!1),S=(0,n.Z)(N,2),T=S[0],I=S[1],R=function(){E((U()+1)%t.size)},A=function(){E((t.size+U()-1)%t.size)},D=function(e){var o=Number(e.currentTarget.getAttribute("data-index"));E(o%t.size)},P=function(e){switch(e.key){case"ArrowLeft":A(),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":R(),e.preventDefault(),e.stopPropagation()}};(0,r.useEffect)((function(){return window.addEventListener("keydown",P,!1),function(){window.removeEventListener("keydown",P)}}),[x]);var U=function(){return null!==x?x:e.index},z=function(){I(!T)},F=function(e){!s||0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),C((function(e,t){var o="string"==typeof s.account?t().accounts.get(s.account):s.account;o&&(M.push("/@".concat(o.acct,"/posts/").concat(null==s?void 0:s.id)),f())})))},G=[],q=t.size>1&&(0,i.Z)("button",{tabIndex:0,className:"media-modal__nav media-modal__nav--left",onClick:A,"aria-label":b.formatMessage(L.previous)},void 0,(0,i.Z)(Z.Z,{src:o(206)})),K=t.size>1&&(0,i.Z)("button",{tabIndex:0,className:"media-modal__nav  media-modal__nav--right",onClick:R,"aria-label":b.formatMessage(L.next)},void 0,(0,i.Z)(Z.Z,{src:o(1153)}));t.size>1&&(G=t.toArray().map((function(e,t){return(0,i.Z)("li",{className:"media-modal__page-dot"},t,(0,i.Z)("button",{tabIndex:0,className:(0,a.default)("media-modal__button",{"media-modal__button--active":t===U()}),onClick:D,"data-index":t},void 0,t+1))})));var Y=t.map((function(e){return"image"!==e.type})).toArray(),H=t.map((function(e,t){var o=e.meta.getIn(["original","width"])||void 0,n=e.meta.getIn(["original","height"])||void 0,a=s&&(0,i.Z)("a",{href:s.url,onClick:F},void 0,(0,i.Z)(d.Z,{id:"lightbox.view_context",defaultMessage:"View context"}));return"image"===e.type?(0,i.Z)(O,{previewSrc:e.preview_url,src:e.url,width:o,height:n,alt:e.description,onClick:z},e.url):"video"===e.type?(0,i.Z)(h.default,{preview:e.preview_url,blurhash:e.blurhash,src:e.url,width:o,height:n,startTime:y,detailed:!0,autoFocus:t===U(),link:a,alt:e.description,visible:!0},e.url):"audio"===e.type?(0,i.Z)(p.default,{src:e.url,alt:e.description,poster:e.preview_url!==e.url?e.preview_url:null==s?void 0:s.getIn(["account","avatar_static"]),backgroundColor:e.meta.getIn(["colors","background"]),foregroundColor:e.meta.getIn(["colors","foreground"]),accentColor:e.meta.getIn(["colors","accent"]),duration:e.meta.getIn(["original","duration"],0)},e.url):"gifv"===e.type?(0,i.Z)(m,{src:e.url,muted:!0,controls:!1,width:o,height:n,alt:e.description,onClick:z},e.preview_url):null})).toArray(),j=(0,a.default)("media-modal__navigation",{"media-modal__navigation--hidden":T});return(0,i.Z)("div",{className:"modal-root__modal media-modal"},void 0,(0,i.Z)("div",{className:"media-modal__closer",role:"presentation",onClick:function(e){var t=e.target,o=document.querySelector('.media-modal .react-swipeable-view-container > div[aria-hidden="false"]'),i=t===o||!(null!=o&&o.contains(t)),n=["zoomable-image"].some((function(e){return t.classList.contains(e)}));(i||n)&&f()}},void 0,(0,i.Z)(u.ZP,{style:{width:"100%",height:"100%"},containerStyle:{alignItems:"center"},onChangeIndex:function(e){E(e%t.size)},index:U()},void 0,H)),(0,i.Z)("div",{className:j},void 0,(0,i.Z)(g.Z,{className:"media-modal__close",title:b.formatMessage(L.close),src:o(80),onClick:f}),q,K,s&&!Y[U()]&&(0,i.Z)("div",{className:(0,a.default)("media-modal__meta",{"media-modal__meta--shifted":t.size>1})},void 0,(0,i.Z)("a",{href:s.url,onClick:F},void 0,(0,i.Z)(d.Z,{id:"lightbox.view_context",defaultMessage:"View context"}))),(0,i.Z)("ul",{className:"media-modal__pagination"},void 0,G)))}},1455:function(e,t,o){o.r(t);var i=o(2057),n=(o(5),o(1103)),a=o(1),r=o(2077),s=o(94),l=o(57),d=o(2),c=o(82),u=o(3),f=o(38);t.default=function(e){var t,o=e.onClose,v=e.statusId,m=(0,u.TL)(),Z=(0,a.useCallback)((0,f.TE)(),[]),g=(0,u.CG)((function(e){return Z(e,{id:v})})),p=g?(0,n.OrderedSet)(g.mentions.map((function(e){return e.get("id")}))):null;return(0,a.useEffect)((function(){m((0,s.wE)(v))}),[]),t=p?(0,i.Z)(l.Z,{scrollKey:"mentions",className:"max-w-full",itemClassName:"pb-3"},void 0,p.map((function(e){return(0,i.Z)(c.Z,{id:e},e)}))):(0,i.Z)(d.$j,{}),(0,i.Z)(d.u_,{title:(0,i.Z)(r.Z,{id:"column.mentions",defaultMessage:"Mentions"}),onClose:function(){o("MENTIONS")}},void 0,t)}},1446:function(e,t,o){o.r(t);var i=o(2057),n=o(2058),a=o(2077),r=o(2060),s=o(2),l=(0,n.vU)({modalTitle:{id:"missing_description_modal.text",defaultMessage:"You have not entered a description for all attachments."},post:{id:"missing_description_modal.continue",defaultMessage:"Post"},cancel:{id:"missing_description_modal.cancel",defaultMessage:"Cancel"}});t.default=(0,r.ZP)((function(e){var t=e.onClose,o=e.onContinue,n=e.intl;return(0,i.Z)(s.u_,{title:n.formatMessage(l.modalTitle),confirmationAction:o,confirmationText:n.formatMessage(l.post),confirmationTheme:"danger",cancelText:n.formatMessage(l.cancel),cancelAction:t},void 0,(0,i.Z)("p",{className:"text-gray-600 dark:text-gray-300"},void 0,(0,i.Z)(a.Z,{id:"missing_description_modal.description",defaultMessage:"Continue anyway?"})))}))},1454:function(e,t,o){o.r(t);var i=o(2057),n=o(2047),a=(o(7),o(0),o(8),o(4),o(34),o(5),o(418)),r=o(1103),s=o(1),l=o(2058),d=o(2059),c=o(2077),u=o(158),f=o(57),v=o(2),m=o(82),Z=o(3),g=o(1120),p=(0,l.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},all:{id:"reactions.all",defaultMessage:"All"}});t.default=function(e){var t,o=e.onClose,l=e.statusId,h=e.reaction,_=(0,Z.TL)(),y=(0,d.Z)(),b=(0,s.useState)(h),M=(0,n.Z)(b,2),C=M[0],w=M[1],k=(0,Z.CG)((function(e){var t,o,i=null===(t=e.user_lists.favourited_by.get(l))||void 0===t?void 0:t.items,n=null===(o=e.user_lists.reactions.get(l))||void 0===o?void 0:o.items;return i&&n&&(0,r.List)(null!=i&&i.size?[(0,g.T3)({accounts:i,count:i.size,name:"👍"})]:[]).concat(n||[])}));(0,s.useEffect)((function(){_((0,u.eA)(l)),_((0,u._P)(l))}),[]);var x,E,N=k&&(C?null===(t=k.find((function(e){return e.name===C})))||void 0===t?void 0:t.accounts.map((function(e){return{id:e,reaction:C}})):k.map((function(e){var t=e.accounts,o=e.name;return t.map((function(e){return{id:e,reaction:o}}))})).flatten());if(N){var S=(0,i.Z)(c.Z,{id:"status.reactions.empty",defaultMessage:"No one has reacted to this post yet. When someone does, they will show up here."});x=s.createElement(s.Fragment,null,k.size>0&&(E=[{text:y.formatMessage(p.all),action:function(){return w("")},name:"all"}],k.forEach((function(e){return E.push({text:(0,i.Z)("div",{className:"flex items-center gap-1"},void 0,(0,i.Z)(v.dy,{className:"h-4 w-4",emoji:e.name}),e.count),action:function(){return w(e.name)},name:e.name})})),(0,i.Z)(v.mQ,{items:E,activeItem:C||"all"})),(0,i.Z)(f.Z,{scrollKey:"reactions",emptyMessage:S,className:(0,a.default)("max-w-full",{"mt-4":k.size>0}),itemClassName:"pb-3"},void 0,N.map((function(e){return(0,i.Z)(m.Z,{id:e.id,emoji:e.reaction},"".concat(e.id,"-").concat(e.reaction))}))))}else x=(0,i.Z)(v.$j,{});return(0,i.Z)(v.u_,{title:(0,i.Z)(c.Z,{id:"column.reactions",defaultMessage:"Reactions"}),onClose:function(){o("REACTIONS")}},void 0,x)}},1452:function(e,t,o){o.r(t);var i=o(2057),n=(o(5),o(1)),a=o(2077),r=o(158),s=o(94),l=o(57),d=o(2),c=o(82),u=o(3);t.default=function(e){var t,o=e.onClose,f=e.statusId,v=(0,u.TL)(),m=(0,u.CG)((function(e){var t;return null===(t=e.user_lists.reblogged_by.get(f))||void 0===t?void 0:t.items}));if((0,n.useEffect)((function(){v((0,r.rQ)(f)),v((0,s.UK)(f))}),[]),m){var Z=(0,i.Z)(a.Z,{id:"status.reblogs.empty",defaultMessage:"No one has reposted this post yet. When someone does, they will show up here."});t=(0,i.Z)(l.Z,{scrollKey:"reblogs",emptyMessage:Z,className:"max-w-full",itemClassName:"pb-3"},void 0,m.map((function(e){return(0,i.Z)(c.Z,{id:e},e)})))}else t=(0,i.Z)(d.$j,{});return(0,i.Z)(d.u_,{title:(0,i.Z)(a.Z,{id:"column.reblogs",defaultMessage:"Reposts"}),onClose:function(){o("REBLOGS")}},void 0,t)}},763:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var i=o(2057),n=(o(5),o(1)),a=o(2077),r=o(2),s=o(3),l=o(974),d=o(38),c=(o(28),o(33),o(2058)),u=o(2059),f=o(43),v=o(69),m=o(107),Z=o(184),g=(0,c.vU)({remove:{id:"reply_mentions.account.remove",defaultMessage:"Remove from mentions"},add:{id:"reply_mentions.account.add",defaultMessage:"Add to mentions"}}),p=function(e){var t,a,l=e.composeId,c=e.accountId,p=e.author,h=(0,u.Z)(),_=(0,s.TL)(),y=(0,n.useCallback)((0,d.Tm)(),[]),b=(0,s.$r)(l),M=(0,s.CG)((function(e){return y(e,c)})),C=!!M&&(null===(t=b.to)||void 0===t?void 0:t.includes(M.acct));return(0,n.useEffect)((function(){c&&!M&&_((0,f.$Gz)(c))}),[]),M?(a=C?(0,i.Z)(Z.Z,{src:o(80),iconClassName:"h-5 w-5",title:h.formatMessage(g.remove),onClick:function(){return _((0,v.rw)(l,c))}}):(0,i.Z)(Z.Z,{src:o(152),iconClassName:"h-5 w-5",title:h.formatMessage(g.add),onClick:function(){return _((0,v.kR)(l,c))}}),(0,i.Z)(r.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,i.Z)("div",{className:"w-full"},void 0,(0,i.Z)(m.Z,{account:M,withRelationship:!1,withLinkToProfile:!1})),!p&&a)):null},h=function(e){var t=e.composeId,c=e.onClose,u=(0,s.$r)(t),f=(0,n.useCallback)((0,d.TE)(),[]),v=(0,s.CG)((function(e){return f(e,{id:u.in_reply_to})})),m=(0,s.CG)((function(e){return e.accounts.get(e.me)})),Z=(0,l.Db)(v,m),g=(null==v?void 0:v.account).id;return(0,i.Z)(r.u_,{title:(0,i.Z)(a.Z,{id:"navigation_bar.in_reply_to",defaultMessage:"In reply to"}),onClose:function(){c("REPLY_MENTIONS")},closeIcon:o(206),closePosition:"left"},void 0,(0,i.Z)("div",{className:"reply-mentions-modal__accounts"},void 0,Z.map((function(e){return(0,i.Z)(p,{composeId:t,accountId:e,author:g===e},e)}))))}},1450:function(e,t,o){o.r(t);var i=o(2057),n=o(2047),a=(o(4),o(1)),r=o(2058),s=o(2059),l=o(2077),d=o(2050),c=o(158),u=o(2),f=o(3),v=o(37),m=(0,r.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},accountPlaceholder:{id:"remote_interaction.account_placeholder",defaultMessage:"Enter your username@domain you want to act from"},userNotFoundError:{id:"remote_interaction.user_not_found_error",defaultMessage:"Couldn't find given user"}});t.default=function(e){var t,o,r=e.action,Z=e.onClose,g=e.account,p=e.ap_id,h=(0,s.Z)(),_=(0,d.k6)(),y=(0,f.TL)(),b=(0,f.fz)(),M=(0,f.pO)().isOpen,C=(0,f.CG)((function(e){var t;return null===(t=e.accounts.get(g))||void 0===t?void 0:t.display_name})),w=(0,f.hz)(),k=(0,a.useState)(""),x=(0,n.Z)(k,2),E=x[0],N=x[1],S=function(){Z("UNAUTHORIZED")},T=function(){_.push("/login"),S()},I=function(){_.push("/signup"),S()};return r&&w.remoteInteractions&&w.federating?("FOLLOW"===r?(t=(0,i.Z)(l.Z,{id:"remote_interaction.follow_title",defaultMessage:"Follow {user} remotely",values:{user:C}}),o=(0,i.Z)(l.Z,{id:"remote_interaction.follow",defaultMessage:"Proceed to follow"})):"REPLY"===r?(t=(0,i.Z)(l.Z,{id:"remote_interaction.reply_title",defaultMessage:"Reply to a post remotely"}),o=(0,i.Z)(l.Z,{id:"remote_interaction.reply",defaultMessage:"Proceed to reply"})):"REBLOG"===r?(t=(0,i.Z)(l.Z,{id:"remote_interaction.reblog_title",defaultMessage:"Reblog a post remotely"}),o=(0,i.Z)(l.Z,{id:"remote_interaction.reblog",defaultMessage:"Proceed to repost"})):"FAVOURITE"===r?(t=(0,i.Z)(l.Z,{id:"remote_interaction.favourite_title",defaultMessage:"Like a post remotely"}),o=(0,i.Z)(l.Z,{id:"remote_interaction.favourite",defaultMessage:"Proceed to like"})):"POLL_VOTE"===r?(t=(0,i.Z)(l.Z,{id:"remote_interaction.poll_vote_title",defaultMessage:"Vote in a poll remotely"}),o=(0,i.Z)(l.Z,{id:"remote_interaction.poll_vote",defaultMessage:"Proceed to vote"})):"JOIN"===r&&(t=(0,i.Z)(l.Z,{id:"remote_interaction.event_join_title",defaultMessage:"Join an event remotely"}),o=(0,i.Z)(l.Z,{id:"remote_interaction.event_join",defaultMessage:"Proceed to join"})),(0,i.Z)(u.u_,{title:t,onClose:S,confirmationAction:T,confirmationText:(0,i.Z)(l.Z,{id:"account.login",defaultMessage:"Log in"}),secondaryAction:M?I:void 0,secondaryText:M?(0,i.Z)(l.Z,{id:"account.register",defaultMessage:"Sign up"}):void 0},void 0,(0,i.Z)("div",{className:"remote-interaction-modal__content"},void 0,(0,i.Z)(u.l0,{className:"remote-interaction-modal__fields",onSubmit:function(e){e.preventDefault(),y((0,c.OF)(p,E)).then((function(e){window.open(e,"_new","noopener,noreferrer"),Z("UNAUTHORIZED")})).catch((function(e){"Couldn't find user"===e.message&&v.Z.error(h.formatMessage(m.userNotFoundError))}))}},void 0,(0,i.Z)(u.II,{placeholder:h.formatMessage(m.accountPlaceholder),name:"remote_follow[acct]",value:E,autoCorrect:"off",autoCapitalize:"off",onChange:function(e){N(e.target.value)},required:!0}),(0,i.Z)(u.zx,{type:"submit",theme:"primary"},void 0,o)),(0,i.Z)("div",{className:"remote-interaction-modal__divider"},void 0,(0,i.Z)(u.xv,{align:"center"},void 0,(0,i.Z)(l.Z,{id:"remote_interaction.divider",defaultMessage:"or"}))),M&&(0,i.Z)(u.xv,{size:"lg",weight:"medium"},void 0,(0,i.Z)(l.Z,{id:"unauthorized_modal.title",defaultMessage:"Sign up for {site_title}",values:{site_title:b.title}}))))):(0,i.Z)(u.u_,{title:(0,i.Z)(l.Z,{id:"unauthorized_modal.title",defaultMessage:"Sign up for {site_title}",values:{site_title:b.title}}),onClose:S,confirmationAction:T,confirmationText:(0,i.Z)(l.Z,{id:"account.login",defaultMessage:"Log in"}),secondaryAction:M?I:void 0,secondaryText:M?(0,i.Z)(l.Z,{id:"account.register",defaultMessage:"Sign up"}):void 0},void 0,(0,i.Z)(u.Kq,{},void 0,(0,i.Z)(u.xv,{},void 0,(0,i.Z)(l.Z,{id:"unauthorized_modal.text",defaultMessage:"You need to be logged in to do that."}))))}},1501:function(e,t,o){o.r(t);var i,n=o(2057),a=o(2047),r=(o(0),o(24),o(225),o(1)),s=o(2058),l=o(2059),d=o(2077),c=o(1156),u=o(96),f=o(2073),v=o(208),m=o(2),Z=o(3),g=o(37),p=o(73),h=(0,s.vU)({verificationInvalid:{id:"sms_verification.invalid",defaultMessage:"Please enter a valid phone number."},verificationSuccess:{id:"sms_verification.success",defaultMessage:"A verification code has been sent to your phone number."},verificationFail:{id:"sms_verification.fail",defaultMessage:"Failed to send SMS message to your phone number."},verificationExpired:{id:"sms_verification.expired",defaultMessage:"Your SMS token has expired."},verifySms:{id:"sms_verification.modal.verify_sms",defaultMessage:"Verify SMS"},verifyNumber:{id:"sms_verification.modal.verify_number",defaultMessage:"Verify phone number"},verifyCode:{id:"sms_verification.modal.verify_code",defaultMessage:"Verify code"}});!function(e){e.IDLE="IDLE",e.READY="READY",e.REQUESTED="REQUESTED",e.FAIL="FAIL",e.SUCCESS="SUCCESS"}(i||(i={})),t.default=function(e){var t=e.onClose,o=(0,Z.TL)(),s=(0,l.Z)(),_=(0,Z.fz)(),y=(0,Z.CG)((function(e){return(0,p.hP)(e)})),b=(0,Z.CG)((function(e){return e.verification.isLoading})),M=(0,r.useState)(i.IDLE),C=(0,a.Z)(M,2),w=C[0],k=C[1],x=(0,r.useState)(),E=(0,a.Z)(x,2),N=E[0],S=E[1],T=(0,r.useState)(""),I=(0,a.Z)(T,2),R=I[0],O=I[1],L=(0,r.useState)(!1),A=(0,a.Z)(L,2),D=A[0],P=A[1],U=!!N,z=(0,r.useCallback)((function(e){S(e)}),[]),F=function(e){if(e.preventDefault(),!U)return k(i.IDLE),void g.Z.error(s.formatMessage(h.verificationInvalid));o((0,v.R4)(N)).then((function(){g.Z.success(s.formatMessage(h.verificationSuccess))})).finally((function(){return k(i.REQUESTED)})).catch((function(){g.Z.error(s.formatMessage(h.verificationFail))}))},G=(0,r.useMemo)((function(){switch(w){case i.IDLE:return s.formatMessage(h.verifySms);case i.READY:return s.formatMessage(h.verifyNumber);case i.REQUESTED:return s.formatMessage(h.verifyCode);default:return null}}),[w]),q=function(){o((0,v.Tq)(R)).then((function(){k(i.SUCCESS),o((0,u.TK)(y)).then((function(){return o((0,f.Mr)("VERIFY_SMS"))}))})).catch((function(){return g.Z.error(s.formatMessage(h.verificationExpired))}))};return(0,r.useEffect)((function(){6===R.length&&q()}),[R]),(0,n.Z)(m.u_,{title:(0,n.Z)(d.Z,{id:"sms_verification.modal.verify_title",defaultMessage:"Verify your phone number"}),onClose:function(){return t("VERIFY_SMS")},cancelAction:w===i.IDLE?function(){return t("VERIFY_SMS")}:void 0,cancelText:"Skip for now",confirmationAction:function(e){switch(w){case i.IDLE:k(i.READY);break;case i.READY:F(e);break;case i.REQUESTED:q()}},confirmationText:G,secondaryAction:w===i.REQUESTED?function(e){P(!0),F(e)}:void 0,secondaryText:w===i.REQUESTED?(0,n.Z)(d.Z,{id:"sms_verification.modal.resend_code",defaultMessage:"Resend verification code?"}):void 0,secondaryDisabled:D},void 0,(0,n.Z)(m.Kq,{space:4},void 0,function(){switch(w){case i.IDLE:return(0,n.Z)(m.xv,{theme:"muted"},void 0,(0,n.Z)(d.Z,{id:"sms_verification.modal.verify_help_text",defaultMessage:"Verify your phone number to start using {instance}.",values:{instance:_.title}}));case i.READY:return(0,n.Z)(m.cw,{labelText:(0,n.Z)(d.Z,{id:"sms_verification.phone.label",defaultMessage:"Phone number"})},void 0,(0,n.Z)(m.sb,{value:N,onChange:z,required:!0,autoFocus:!0}));case i.REQUESTED:return r.createElement(r.Fragment,null,(0,n.Z)(m.xv,{theme:"muted",size:"sm",align:"center"},void 0,(0,n.Z)(d.Z,{id:"sms_verification.modal.enter_code",defaultMessage:"We sent you a 6-digit code via SMS. Enter it below."})),(0,n.Z)(c.Z,{value:R,onChange:O,numInputs:6,isInputNum:!0,shouldAutoFocus:!0,isDisabled:b,containerStyle:"flex justify-center mt-2 space-x-4",inputStyle:"w-10i border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"}));default:return null}}()))}},1443:function(e,t,o){o.r(t);var i=o(2057),n=(o(4),o(7),o(13),o(30),o(2077)),a=o(2050),r=o(546);t.default=function(e){var t=e.status,o=e.account,s=e.media,l=e.time,d=(e.onClose,(0,a.k6)()),c=t&&o&&(0,i.Z)("a",{href:t.url,onClick:function(e){0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),d.push("/@".concat(o.acct,"/posts/").concat(t.id)))}},void 0,(0,i.Z)(n.Z,{id:"lightbox.view_context",defaultMessage:"View context"}));return(0,i.Z)("div",{className:"pointer-events-auto mx-auto block w-full max-w-xl overflow-hidden rounded-2xl text-left align-middle shadow-xl transition-all"},void 0,(0,i.Z)(r.default,{preview:s.preview_url,blurhash:s.blurhash,src:s.url,startTime:l,link:c,detailed:!0,autoFocus:!0,alt:s.description,visible:!0}))}},1474:function(e,t,o){o.r(t);var i=o(2057),n=o(2077),a=o(2),r=o(3);t.default=function(){var e=(0,r.fz)(),t=(0,r.pO)().isOpen;return(0,r.CG)((function(e){return e.me}))||!t?null:(0,i.Z)(a.Kq,{space:2,"data-testid":"sign-up-panel"},void 0,(0,i.Z)(a.Kq,{},void 0,(0,i.Z)(a.xv,{size:"lg",weight:"bold"},void 0,(0,i.Z)(n.Z,{id:"signup_panel.title",defaultMessage:"New to {site_title}?",values:{site_title:e.title}})),(0,i.Z)(a.xv,{theme:"muted",size:"sm"},void 0,(0,i.Z)(n.Z,{id:"signup_panel.subtitle",defaultMessage:"Sign up now to discuss."}))),(0,i.Z)(a.zx,{theme:"primary",block:!0,to:"/signup"},void 0,(0,i.Z)(n.Z,{id:"account.register",defaultMessage:"Sign up"})))}},1473:function(e,t,o){o.r(t);var i=o(2057),n=(o(28),o(33),o(7),o(2059)),a=o(2077),r=o(2076),s=o(205),l=o(2),d=o(159),c=o(3),u=o(38),f=o(106),v=o(118),m=o(880),Z=(0,u.Tm)();t.default=function(e){var t=e.accountId,o=e.action,u=e.badges,g=e.domain,p=(0,n.Z)(),h=(0,c.CG)((function(e){return Z(e,t)})),_=(0,c.CG)((function(e){return(0,m.$X)(e)}));if(!h)return null;var y={__html:h.display_name_html},b=!h.acct.includes("@")&&g?"".concat(h.acct,"@").concat(g):h.acct,M=h.header,C=h.verified;return(0,i.Z)("div",{className:"relative"},void 0,(0,i.Z)(l.Kq,{space:2},void 0,(0,i.Z)(l.Kq,{},void 0,(0,i.Z)("div",{className:"relative -mx-4 -mt-4 h-24 overflow-hidden bg-gray-200"},void 0,M&&(0,i.Z)(s.Z,{src:h.header})),(0,i.Z)(l.Ug,{justifyContent:"between"},void 0,(0,i.Z)(r.rU,{to:"/@".concat(h.acct),title:b,className:"-mt-12 block"},void 0,(0,i.Z)(l.qE,{src:h.avatar,size:80,className:"h-20 w-20 overflow-hidden bg-gray-50 ring-2 ring-white"})),o&&(0,i.Z)("div",{className:"mt-2"},void 0,o))),(0,i.Z)(l.Kq,{},void 0,(0,i.Z)(r.rU,{to:"/@".concat(h.acct)},void 0,(0,i.Z)(l.Ug,{space:1,alignItems:"center"},void 0,(0,i.Z)(l.xv,{size:"lg",weight:"bold",dangerouslySetInnerHTML:y}),C&&(0,i.Z)(d.Z,{}),u&&u.length>0&&(0,i.Z)(l.Ug,{space:1,alignItems:"center"},void 0,u))),(0,i.Z)(l.xv,{size:"sm",theme:"muted"},void 0,"@",(0,f.F7)(h,_))),(0,i.Z)(l.Ug,{alignItems:"center",space:3},void 0,h.followers_count>=0&&(0,i.Z)(r.rU,{to:"/@".concat(h.acct,"/followers"),title:p.formatNumber(h.followers_count)},void 0,(0,i.Z)(l.Ug,{alignItems:"center",space:1},void 0,(0,i.Z)(l.xv,{theme:"primary",weight:"bold",size:"sm"},void 0,(0,v.w8)(h.followers_count)),(0,i.Z)(l.xv,{weight:"bold",size:"sm"},void 0,(0,i.Z)(a.Z,{id:"account.followers",defaultMessage:"Followers"})))),h.following_count>=0&&(0,i.Z)(r.rU,{to:"/@".concat(h.acct,"/following"),title:p.formatNumber(h.following_count)},void 0,(0,i.Z)(l.Ug,{alignItems:"center",space:1},void 0,(0,i.Z)(l.xv,{theme:"primary",weight:"bold",size:"sm"},void 0,(0,v.w8)(h.following_count)),(0,i.Z)(l.xv,{weight:"bold",size:"sm"},void 0,(0,i.Z)(a.Z,{id:"account.follows",defaultMessage:"Follows"})))))))}},820:function(e,t,o){o.r(t),o.d(t,{default:function(){return S}});var i=o(125),n=o(69),a=o(115),r=o(2073),s=o(199),l=(o(0),o(58),o(64),o(2075)),d=o(2057),c=o(2053),u=o(2054),f=o(2087),v=o(2088),m=o(2086),Z=o(2085),g=o(2041),p=(o(7),o(28),o(1)),h=o(1005),_=o(83),y=o(93),b=o(2058),M=o(2059),C=o(2),w=(0,b.vU)({error:{id:"bundle_modal_error.message",defaultMessage:"Something went wrong while loading this modal."},retry:{id:"bundle_modal_error.retry",defaultMessage:"Try again"},close:{id:"bundle_modal_error.close",defaultMessage:"Close"}}),k=function(e){var t=e.onRetry,o=e.onClose,i=(0,M.Z)();return(0,d.Z)(C.u_,{title:i.formatMessage(w.error),confirmationAction:o,confirmationText:i.formatMessage(w.close),secondaryAction:function(){t()},secondaryText:i.formatMessage(w.retry)})},x=function(){return(0,d.Z)("div",{className:"modal-root__modal error-modal"},void 0,(0,d.Z)("div",{className:"error-modal__body"},void 0,(0,d.Z)(C.$j,{})),(0,d.Z)("div",{className:"error-modal__footer"},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("button",{className:"error-modal__nav"}))))};var E={ACCOUNT_MODERATION:_.Hp,ACCOUNT_NOTE:_.SU,ACTIONS:_.VU,BIRTHDAYS:_.cC,BOOST:_.Zl,COMPARE_HISTORY:_.WI,COMPONENT:_.HS,COMPOSE:_.C,COMPOSE_EVENT:_.m9,CONFIRM:_.cV,CRYPTO_DONATE:_.v3,EDIT_ANNOUNCEMENT:_.CJ,EDIT_FEDERATION:_.Jc,EMBED:_.V6,EVENT_MAP:_.jb,EVENT_PARTICIPANTS:_.z3,FAMILIAR_FOLLOWERS:_.Um,FAVOURITES:_.YP,HOTKEYS:_.C4,JOIN_EVENT:_.qk,LANDING_PAGE:_.Qk,LIST_ADDER:_.v7,LIST_EDITOR:_.gL,MANAGE_GROUP:_.L4,MEDIA:_.p3,MENTIONS:_.nO,MISSING_DESCRIPTION:_.if,MUTE:_.z1,POLICY:_.LI,REACTIONS:_.qP,REBLOGS:_.jM,REPLY_MENTIONS:_.OQ,REPORT:_.yW,UNAUTHORIZED:_.iq,VERIFY_SMS:_.Wt,VIDEO:_.Kd},N=function(e){(0,v.Z)(n,e);var t,o,i=(t=n,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,Z.Z)(t);if(o){var n=(0,Z.Z)(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return(0,m.Z)(this,e)});function n(){var e;(0,c.Z)(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=i.call.apply(i,[this].concat(o)),(0,g.Z)((0,f.Z)(e),"renderLoading",(function(e){return function(){return["MEDIA","VIDEO","BOOST","CONFIRM","ACTIONS"].includes(e)?null:(0,d.Z)(x,{})}})),(0,g.Z)((0,f.Z)(e),"renderError",(function(t){return p.createElement(k,(0,l.Z)({},t,{onClose:e.onClickClose}))})),(0,g.Z)((0,f.Z)(e),"onClickClose",(function(t){var o=e.props;(0,o.onClose)(o.type)})),e}return(0,u.Z)(n,[{key:"getSnapshotBeforeUpdate",value:function(){return{visible:!!this.props.type}}},{key:"componentDidUpdate",value:function(e,t,o){o.visible?document.body.classList.add("with-modals"):document.body.classList.remove("with-modals")}},{key:"render",value:function(){var e=this,t=this.props,o=t.type,i=t.props,n=!!o;return(0,d.Z)(h.ZP,{onClose:this.onClickClose,type:o},void 0,n&&(0,d.Z)(y.Z,{fetchComponent:E[o],loading:this.renderLoading(o),error:this.renderError,renderDelay:200},void 0,(function(t){return p.createElement(t,(0,l.Z)({},i,{onClose:e.onClickClose}))})))}}]),n}(p.PureComponent),S=(0,i.$j)((function(e){var t=e.modals.last({modalType:null,modalProps:{}});return{type:t.modalType,props:t.modalProps}}),(function(e){return{onClose:function(t){switch(t){case"COMPOSE":e((0,n.qY)());break;case"COMPOSE_EVENT":e((0,a.ZB)());break;case"REPORT":e((0,s.Mq)())}e((0,r.Mr)(t))}}}))(N)},1522:function(e,t,o){e.exports=o.p+"packs/icons/filter-5fa0ab6c.svg"}}]);
//# sourceMappingURL=ui-52f90584869e952ee20d.chunk.js.map