{"version":3,"file":"packs/js/features/events-0b79ccf93ff6187e0c00.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/placeholder/components/placeholder-event-preview.tsx","webpack://soapbox/./app/soapbox/features/events/components/event-carousel.tsx","webpack://soapbox/./app/soapbox/features/events/index.tsx","webpack://soapbox/./app/soapbox/features/ui/components/panels/new-event-panel.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{Stack,Text}from'soapbox/components/ui';import{generateText,randomIntFromInterval}from'../utils';var PlaceholderEventPreview=function PlaceholderEventPreview(){var eventNameLength=randomIntFromInterval(5,25);var nameLength=randomIntFromInterval(5,15);return/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full animate-pulse overflow-hidden rounded-lg bg-gray-100 text-primary-50 dark:bg-primary-800 dark:text-primary-800\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"h-40 bg-primary-200 dark:bg-gray-600\"}),/*#__PURE__*/_jsx(Stack,{className:\"p-2.5\",space:2},void 0,/*#__PURE__*/_jsx(Text,{weight:\"semibold\"},void 0,generateText(eventNameLength)),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-y-1 gap-x-2 text-gray-700 dark:text-gray-600\"},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,generateText(nameLength)),/*#__PURE__*/_jsx(\"span\",{},void 0,generateText(nameLength)),/*#__PURE__*/_jsx(\"span\",{},void 0,generateText(nameLength)))));};export default PlaceholderEventPreview;","import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.concat.js\";import\"core-js/modules/es.array.map.js\";import React,{useCallback,useState}from'react';import{Link}from'react-router-dom';import ReactSwipeableViews from'react-swipeable-views';import EventPreview from'soapbox/components/event-preview';import{Card,Icon}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';import{makeGetStatus}from'soapbox/selectors';import PlaceholderEventPreview from'../../placeholder/components/placeholder-event-preview';var Event=function Event(_ref){var id=_ref.id;var getStatus=useCallback(makeGetStatus(),[]);var status=useAppSelector(function(state){return getStatus(state,{id:id});});if(!status)return null;return/*#__PURE__*/_jsx(Link,{className:\"w-full px-1\",to:\"/@\".concat(status.getIn(['account','acct']),\"/events/\").concat(status.id)},void 0,/*#__PURE__*/_jsx(EventPreview,{status:status,floatingAction:false}));};var EventCarousel=function EventCarousel(_ref2){var statusIds=_ref2.statusIds,isLoading=_ref2.isLoading,emptyMessage=_ref2.emptyMessage;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var handleChangeIndex=function handleChangeIndex(index){setIndex(index%statusIds.size);};if(statusIds.size===0){if(isLoading){return/*#__PURE__*/_jsx(PlaceholderEventPreview,{});}return/*#__PURE__*/_jsx(Card,{variant:\"rounded\",size:\"lg\"},void 0,emptyMessage);}return/*#__PURE__*/_jsx(\"div\",{className:\"relative -mx-1\"},void 0,index!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-1/2 z-10 -mt-4\"},void 0,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleChangeIndex(index-1);},className:\"flex h-8 w-8 items-center justify-center rounded-full bg-white/50 backdrop-blur dark:bg-gray-900/50\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/chevron-left.svg'),className:\"h-6 w-6 text-black dark:text-white\"}))),/*#__PURE__*/_jsx(ReactSwipeableViews,{animateHeight:true,index:index,onChangeIndex:handleChangeIndex},void 0,statusIds.map(function(statusId){return/*#__PURE__*/_jsx(Event,{id:statusId},statusId);})),index!==statusIds.size-1&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-1/2 z-10 -mt-4\"},void 0,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleChangeIndex(index+1);},className:\"flex h-8 w-8 items-center justify-center rounded-full bg-white/50 backdrop-blur dark:bg-gray-900/50\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/chevron-right.svg'),className:\"h-6 w-6 text-black dark:text-white\"}))));};export default EventCarousel;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{fetchJoinedEvents,fetchRecentEvents}from'soapbox/actions/events';import{openModal}from'soapbox/actions/modals';import{Button,CardBody,CardHeader,CardTitle,Column,HStack}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';import EventCarousel from'./components/event-carousel';var messages=defineMessages({title:{\"id\":\"column.events\",\"defaultMessage\":\"Events\"}});var Events=function Events(){var intl=useIntl();var dispatch=useAppDispatch();var recentEvents=useAppSelector(function(state){return state.status_lists.get('recent_events').items;});var recentEventsLoading=useAppSelector(function(state){return state.status_lists.get('recent_events').isLoading;});var joinedEvents=useAppSelector(function(state){return state.status_lists.get('joined_events').items;});var joinedEventsLoading=useAppSelector(function(state){return state.status_lists.get('joined_events').isLoading;});var onComposeEvent=function onComposeEvent(){dispatch(openModal('COMPOSE_EVENT'));};useEffect(function(){dispatch(fetchRecentEvents());dispatch(fetchJoinedEvents());},[]);return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title)},void 0,/*#__PURE__*/_jsx(HStack,{className:\"mb-4\",space:2,justifyContent:\"between\"},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"events.recent_events\",defaultMessage:\"Recent events\"})}),/*#__PURE__*/_jsx(Button,{className:\"ml-auto xl:hidden\",theme:\"primary\",size:\"sm\",onClick:onComposeEvent},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"events.create_event\",defaultMessage:\"Create event\"}))),/*#__PURE__*/_jsx(CardBody,{className:\"mb-2\"},void 0,/*#__PURE__*/_jsx(EventCarousel,{statusIds:recentEvents,isLoading:recentEventsLoading,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"events.recent_events.empty\",defaultMessage:\"There are no public events yet.\"})})),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"events.joined_events\",defaultMessage:\"Joined events\"})})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(EventCarousel,{statusIds:joinedEvents,isLoading:joinedEventsLoading,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"events.joined_events.empty\",defaultMessage:\"You haven't joined any event yet.\"})})));};export default Events;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage}from'react-intl';import{openModal}from'soapbox/actions/modals';import{Button,Stack,Text}from'soapbox/components/ui';import{useAppDispatch}from'soapbox/hooks';var NewEventPanel=function NewEventPanel(){var dispatch=useAppDispatch();var createEvent=function createEvent(){dispatch(openModal('COMPOSE_EVENT'));};return/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"bold\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"new_event_panel.title\",defaultMessage:\"Create New Event\"})),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"new_event_panel.subtitle\",defaultMessage:\"Can't find what you're looking for? Schedule your own event.\"}))),/*#__PURE__*/_jsx(Button,{icon:require('@tabler/icons/calendar-event.svg'),onClick:createEvent,theme:\"secondary\",block:true},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"new_event_panel.action\",defaultMessage:\"Create event\"})));};export default NewEventPanel;"],"names":["eventNameLength","nameLength","className","space","weight","Event","_ref","id","getStatus","useCallback","status","state","to","concat","getIn","floatingAction","_ref2","statusIds","isLoading","emptyMessage","_useState","useState","_useState2","index","setIndex","handleChangeIndex","size","variant","onClick","src","animateHeight","onChangeIndex","map","statusId","messages","title","intl","useIntl","dispatch","recentEvents","status_lists","get","items","recentEventsLoading","joinedEvents","joinedEventsLoading","useEffect","label","formatMessage","justifyContent","defaultMessage","theme","icon","block"],"sourceRoot":""}