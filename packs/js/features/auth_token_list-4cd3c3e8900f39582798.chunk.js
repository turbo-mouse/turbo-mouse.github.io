"use strict";(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[17],{1185:function(e,s,i){i.r(s);var o=i(2054),r=(i(34),i(0),i(5),i(1)),n=i(2055),a=i(2056),t=i(2070),d=i(207),u=i(2),v=i(3),f=(0,n.vU)({header:{id:"security.headers.tokens",defaultMessage:"Sessions"},revoke:{id:"security.tokens.revoke",defaultMessage:"Revoke"},revokeSessionHeading:{id:"confirmations.revoke_session.heading",defaultMessage:"Revoke current session"},revokeSessionMessage:{id:"confirmations.revoke_session.message",defaultMessage:"You are about to revoke your current session. You will be signed out."},revokeSessionConfirm:{id:"confirmations.revoke_session.confirm",defaultMessage:"Revoke"}}),m=function(e){var s=e.token,r=e.isCurrent,m=(0,v.TL)(),c=(0,a.Z)();return(0,o.Z)("div",{className:"rounded-lg bg-gray-100 p-4 dark:bg-primary-800"},void 0,(0,o.Z)(u.Kq,{space:2},void 0,(0,o.Z)(u.Kq,{},void 0,(0,o.Z)(u.xv,{size:"md",weight:"medium"},void 0,s.app_name),s.valid_until&&(0,o.Z)(u.xv,{size:"sm",theme:"muted"},void 0,(0,o.Z)(n.Ji,{value:s.valid_until,hour12:!0,year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"}))),(0,o.Z)("div",{className:"flex justify-end"},void 0,(0,o.Z)(u.zx,{theme:r?"danger":"primary",onClick:function(){m(r?(0,t.h7)("CONFIRM",{icon:i(602),heading:c.formatMessage(f.revokeSessionHeading),message:c.formatMessage(f.revokeSessionMessage),confirm:c.formatMessage(f.revokeSessionConfirm),onConfirm:function(){m((0,d._C)(s.id))}}):(0,d._C)(s.id))}},void 0,c.formatMessage(f.revoke)))))};s.default=function(){var e=(0,v.TL)(),s=(0,a.Z)(),i=(0,v.CG)((function(e){return e.security.get("tokens").reverse()})),n=(0,v.CG)((function(e){var s=e.auth.tokens.valueSeq().find((function(s){return s.me===e.auth.me}));return null==s?void 0:s.id}));(0,r.useEffect)((function(){e((0,d.xt)())}),[]);var t=i?(0,o.Z)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},void 0,i.map((function(e){return(0,o.Z)(m,{token:e,isCurrent:e.id===n},e.id)}))):(0,o.Z)(u.$j,{});return(0,o.Z)(u.sg,{label:s.formatMessage(f.header),transparent:!0,withHeader:!1},void 0,(0,o.Z)(u.Zb,{variant:"rounded"},void 0,(0,o.Z)(u.Ol,{backHref:"/settings"},void 0,(0,o.Z)(u.ll,{title:s.formatMessage(f.header)})),(0,o.Z)(u.eW,{},void 0,t)))}}}]);
//# sourceMappingURL=auth_token_list-4cd3c3e8900f39582798.chunk.js.map