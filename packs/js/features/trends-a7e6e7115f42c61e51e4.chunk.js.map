{"version":3,"file":"packs/js/features/trends-a7e6e7115f42c61e51e4.chunk.js","mappings":"0QAA6P,WAAwBA,GAAM,IAAIC,EAAMD,EAAKC,MAAUC,GAAM,QAAsB,EAAE,GAAOC,GAAK,QAAsB,GAAG,GAAG,OAAmB,gBAAoB,WAAe,KAAK,IAAIC,MAAMH,GAAOI,UAAKC,GAAWC,KAAI,SAASC,EAAEC,GAAK,OAAmB,OAAK,KAAM,CAACC,UAAU,wDAAwDD,GAAiB,OAAK,IAAI,CAAC,OAAE,GAAO,QAAaP,KAAqB,OAAK,IAAI,CAAC,OAAE,GAAO,QAAaC,IAAQ,IAAK,E,mDCAnV,SAASQ,IAAY,IAAIC,GAAI,UAAaC,GAAS,UAAqBC,EAAuB,WAAW,IAAId,GAAK,OAA+Be,mBAAmBC,MAAK,SAASC,IAAU,IAAIC,EAAeC,EAAKC,EAAe,OAAOL,mBAAmBM,MAAK,SAAkBC,GAAU,cAAeA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAkB,OAAhBF,EAASE,KAAK,EAASZ,EAAIa,IAAI,kBAAkB,KAAK,EAA6J,OAA3JP,EAAeI,EAASI,KAAKP,EAAKD,EAAeC,KAAKN,GAAS,QAAmBM,IAAOC,EAAeD,EAAKZ,KAAI,SAASoB,GAAK,OAAO,QAAaA,EAAK,IAAUL,EAASM,OAAO,SAASR,GAAgB,KAAK,EAAE,IAAI,MAAM,OAAOE,EAASO,OAAQ,GAAEZ,EAAS,KAAI,OAAO,WAAqB,OAAOjB,EAAK8B,MAAMC,KAAKC,UAAW,CAAE,CAA9mB,GACvc,OADokC,IAAAC,UAAS,CAAC,UAAUnB,EAAU,CAACoB,gBAAgB,GAAGC,UAAU,KAClnC,CCD4jB,IAAIC,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,sBAAsB,eAAiB,cAA87B,EAAh6B,SAAqBrC,GAAM,IAAIC,EAAMD,EAAKC,MAAUY,GAAS,UAAqByB,GAAK,EAAAC,EAAA,KAAcC,EAAW7B,IAAY8B,EAAOD,EAAWrB,KAAKuB,EAAWF,EAAWE,WAAgG,OAAIA,GAAcD,SAAgCA,EAAOE,QAAyC,OAAK,KAAO,CAACC,OAAmB,OAAK,IAAiB,CAACC,GAAG,eAAeC,eAAe,WAAWC,QAAoB,OAAK,KAAK,CAACrC,UAAU,aAAasC,GAAG,UAAUC,QAAvU,WAA6BpC,GAAS,QAAU,YAAa,QAAqS,GAAoB,OAAK,KAAK,CAACc,IAAI,OAAOuB,MAAM,UAAUC,KAAK,KAAKzC,UAAU,wBAAmB,EAAO4B,EAAKc,cAAchB,EAASC,iBAAY,EAAOK,GAAwB,OAAK,EAAyB,CAACzC,MAAMA,IAAQwC,aAA+B,EAAOA,EAAOY,MAAM,EAAEpD,GAAOM,KAAI,SAAS+C,GAAS,OAAmB,OAAK,IAAQ,CAACA,QAAQA,GAASA,EAAQC,KAAM,KAAxkB,IAA4kB,C","sources":["webpack://soapbox/./app/soapbox/features/placeholder/components/placeholder-sidebar-trends.tsx","webpack://soapbox/./app/soapbox/queries/trends.ts","webpack://soapbox/./app/soapbox/features/ui/components/trends-panel.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.fill.js\";import React from'react';import{Stack}from'soapbox/components/ui';import{randomIntFromInterval,generateText}from'../utils';export default(function(_ref){var limit=_ref.limit;var trend=randomIntFromInterval(6,3);var stat=randomIntFromInterval(10,3);return/*#__PURE__*/React.createElement(React.Fragment,null,new Array(limit).fill(undefined).map(function(_,idx){return/*#__PURE__*/_jsx(Stack,{className:\"animate-pulse text-primary-200 dark:text-primary-700\"},idx,/*#__PURE__*/_jsx(\"p\",{},void 0,generateText(trend)),/*#__PURE__*/_jsx(\"p\",{},void 0,generateText(stat)));}));});","import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import\"regenerator-runtime/runtime.js\";import\"core-js/modules/es.array.map.js\";import{useQuery}from'@tanstack/react-query';import{fetchTrendsSuccess}from'soapbox/actions/trends';import{useApi,useAppDispatch}from'soapbox/hooks';import{normalizeTag}from'soapbox/normalizers';export default function useTrends(){var api=useApi();var dispatch=useAppDispatch();var getTrends=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var _yield$api$get,data,normalizedData;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/api/v1/trends');case 2:_yield$api$get=_context.sent;data=_yield$api$get.data;dispatch(fetchTrendsSuccess(data));normalizedData=data.map(function(tag){return normalizeTag(tag);});return _context.abrupt(\"return\",normalizedData);case 7:case\"end\":return _context.stop();}},_callee);}));return function getTrends(){return _ref.apply(this,arguments);};}();var result=useQuery(['trends'],getTrends,{placeholderData:[],staleTime:600000// 10 minutes\n});return result;}","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.slice.js\";import React from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{Link}from'react-router-dom';import{setFilter}from'soapbox/actions/search';import Hashtag from'soapbox/components/hashtag';import{Text,Widget}from'soapbox/components/ui';import PlaceholderSidebarTrends from'soapbox/features/placeholder/components/placeholder-sidebar-trends';import{useAppDispatch}from'soapbox/hooks';import useTrends from'soapbox/queries/trends';var messages=defineMessages({viewAll:{\"id\":\"trendsPanel.viewAll\",\"defaultMessage\":\"View all\"}});var TrendsPanel=function TrendsPanel(_ref){var limit=_ref.limit;var dispatch=useAppDispatch();var intl=useIntl();var _useTrends=useTrends(),trends=_useTrends.data,isFetching=_useTrends.isFetching;var setHashtagsFilter=function setHashtagsFilter(){dispatch(setFilter('hashtags'));};if(!isFetching&&!(trends!==null&&trends!==void 0&&trends.length)){return null;}return/*#__PURE__*/_jsx(Widget,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"trends.title\",defaultMessage:\"Trends\"}),action:/*#__PURE__*/_jsx(Link,{className:\"text-right\",to:\"/search\",onClick:setHashtagsFilter},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"primary\",size:\"sm\",className:\"hover:underline\"},void 0,intl.formatMessage(messages.viewAll)))},void 0,isFetching?/*#__PURE__*/_jsx(PlaceholderSidebarTrends,{limit:limit}):trends===null||trends===void 0?void 0:trends.slice(0,limit).map(function(hashtag){return/*#__PURE__*/_jsx(Hashtag,{hashtag:hashtag},hashtag.name);}));};export default TrendsPanel;"],"names":["_ref","limit","trend","stat","Array","fill","undefined","map","_","idx","className","useTrends","api","dispatch","getTrends","regeneratorRuntime","mark","_callee","_yield$api$get","data","normalizedData","wrap","_context","prev","next","get","sent","tag","abrupt","stop","apply","this","arguments","useQuery","placeholderData","staleTime","messages","viewAll","intl","useIntl","_useTrends","trends","isFetching","length","title","id","defaultMessage","action","to","onClick","theme","size","formatMessage","slice","hashtag","name"],"sourceRoot":""}