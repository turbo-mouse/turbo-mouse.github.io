{"version":3,"file":"packs/js/features/notifications-05679fd4aca3f0341615.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/placeholder/components/placeholder-notification.tsx","webpack://soapbox/./app/soapbox/features/notifications/components/filter-bar.tsx","webpack://soapbox/./app/soapbox/features/notifications/components/notification.tsx","webpack://soapbox/./app/soapbox/features/notifications/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{HStack}from'soapbox/components/ui';import PlaceholderAvatar from'./placeholder-avatar';import PlaceholderDisplayName from'./placeholder-display-name';import PlaceholderStatusContent from'./placeholder-status-content';/** Fake notification to display while data is loading. */var PlaceholderNotification=function PlaceholderNotification(){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-4 py-6 dark:bg-primary-900 sm:p-6\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"w-full animate-pulse\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\"},void 0,/*#__PURE__*/_jsx(PlaceholderStatusContent,{minLength:20,maxLength:20})),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(HStack,{space:3,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"shrink-0\"},void 0,/*#__PURE__*/_jsx(PlaceholderAvatar,{size:48})),/*#__PURE__*/_jsx(\"div\",{className:\"min-w-0 flex-1\"},void 0,/*#__PURE__*/_jsx(PlaceholderDisplayName,{minLength:3,maxLength:25})))),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\"},void 0,/*#__PURE__*/_jsx(PlaceholderStatusContent,{minLength:5,maxLength:120}))));};export default/*#__PURE__*/React.memo(PlaceholderNotification);","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{setFilter}from'soapbox/actions/notifications';import Icon from'soapbox/components/icon';import{Tabs}from'soapbox/components/ui';import{useAppDispatch,useFeatures,useSettings}from'soapbox/hooks';var messages=defineMessages({all:{\"id\":\"notifications.filter.all\",\"defaultMessage\":\"All\"},mentions:{\"id\":\"notifications.filter.mentions\",\"defaultMessage\":\"Mentions\"},favourites:{\"id\":\"notifications.filter.favourites\",\"defaultMessage\":\"Likes\"},boosts:{\"id\":\"notifications.filter.boosts\",\"defaultMessage\":\"Reposts\"},polls:{\"id\":\"notifications.filter.polls\",\"defaultMessage\":\"Poll results\"},follows:{\"id\":\"notifications.filter.follows\",\"defaultMessage\":\"Follows\"},emoji_reacts:{\"id\":\"notifications.filter.emoji_reacts\",\"defaultMessage\":\"Emoji reacts\"},statuses:{\"id\":\"notifications.filter.statuses\",\"defaultMessage\":\"Updates from people you follow\"}});var NotificationFilterBar=function NotificationFilterBar(){var intl=useIntl();var dispatch=useAppDispatch();var settings=useSettings();var features=useFeatures();var selectedFilter=settings.getIn(['notifications','quickFilter','active']);var advancedMode=settings.getIn(['notifications','quickFilter','advanced']);var onClick=function onClick(notificationType){return function(){return dispatch(setFilter(notificationType));};};var items=[{text:intl.formatMessage(messages.all),action:onClick('all'),name:'all'}];if(!advancedMode){items.push({text:intl.formatMessage(messages.mentions),action:onClick('mention'),name:'mention'});}else{items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/at.svg')}),title:intl.formatMessage(messages.mentions),action:onClick('mention'),name:'mention'});items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/heart.svg')}),title:intl.formatMessage(messages.favourites),action:onClick('favourite'),name:'favourite'});if(features.emojiReacts)items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/mood-smile.svg')}),title:intl.formatMessage(messages.emoji_reacts),action:onClick('pleroma:emoji_reaction'),name:'pleroma:emoji_reaction'});items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/repeat.svg')}),title:intl.formatMessage(messages.boosts),action:onClick('reblog'),name:'reblog'});items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/chart-bar.svg')}),title:intl.formatMessage(messages.polls),action:onClick('poll'),name:'poll'});items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/bell-ringing.svg')}),title:intl.formatMessage(messages.statuses),action:onClick('status'),name:'status'});items.push({text:/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/user-plus.svg')}),title:intl.formatMessage(messages.follows),action:onClick('follow'),name:'follow'});}return/*#__PURE__*/_jsx(Tabs,{items:items,activeItem:selectedFilter});};export default NotificationFilterBar;","import _typeof from\"@babel/runtime/helpers/esm/typeof\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array.concat.js\";import React,{useCallback}from'react';import{HotKeys}from'react-hotkeys';import{defineMessages,useIntl,FormattedMessage,defineMessage}from'react-intl';import{Link,useHistory}from'react-router-dom';import{mentionCompose}from'soapbox/actions/compose';import{reblog,favourite,unreblog,unfavourite}from'soapbox/actions/interactions';import{openModal}from'soapbox/actions/modals';import{getSettings}from'soapbox/actions/settings';import{hideStatus,revealStatus}from'soapbox/actions/statuses';import Icon from'soapbox/components/icon';import{HStack,Text,Emoji}from'soapbox/components/ui';import AccountContainer from'soapbox/containers/account-container';import StatusContainer from'soapbox/containers/status-container';import{useAppDispatch,useAppSelector,useInstance}from'soapbox/hooks';import{makeGetNotification}from'soapbox/selectors';import{validType}from'soapbox/utils/notification';var notificationForScreenReader=function notificationForScreenReader(intl,message,timestamp){var output=[message];output.push(intl.formatDate(timestamp,{hour:'2-digit',minute:'2-digit',month:'short',day:'numeric'}));return output.join(', ');};var buildLink=function buildLink(account){return/*#__PURE__*/_jsx(\"bdi\",{},void 0,/*#__PURE__*/_jsx(Link,{className:\"font-bold text-gray-800 hover:underline dark:text-gray-200\",title:account.acct,to:\"/@\".concat(account.acct),dangerouslySetInnerHTML:{__html:account.display_name_html}}));};var icons={follow:require('@tabler/icons/user-plus.svg'),follow_request:require('@tabler/icons/user-plus.svg'),mention:require('@tabler/icons/at.svg'),favourite:require('@tabler/icons/heart.svg'),reblog:require('@tabler/icons/repeat.svg'),status:require('@tabler/icons/bell-ringing.svg'),poll:require('@tabler/icons/chart-bar.svg'),move:require('@tabler/icons/briefcase.svg'),'pleroma:chat_mention':require('@tabler/icons/messages.svg'),'pleroma:emoji_reaction':require('@tabler/icons/mood-happy.svg'),user_approved:require('@tabler/icons/user-plus.svg'),update:require('@tabler/icons/pencil.svg'),'pleroma:event_reminder':require('@tabler/icons/calendar-time.svg'),'pleroma:participation_request':require('@tabler/icons/calendar-event.svg'),'pleroma:participation_accepted':require('@tabler/icons/calendar-event.svg')};var nameMessage=defineMessage({\"id\":\"notification.name\",\"defaultMessage\":\"{link}{others}\"});var messages=defineMessages({follow:{\"id\":\"notification.follow\",\"defaultMessage\":\"{name} followed you\"},follow_request:{\"id\":\"notification.follow_request\",\"defaultMessage\":\"{name} has requested to follow you\"},mention:{\"id\":\"notification.mentioned\",\"defaultMessage\":\"{name} mentioned you\"},favourite:{\"id\":\"notification.favourite\",\"defaultMessage\":\"{name} liked your post\"},reblog:{\"id\":\"notification.reblog\",\"defaultMessage\":\"{name} reposted your post\"},status:{\"id\":\"notification.status\",\"defaultMessage\":\"{name} just posted\"},poll:{\"id\":\"notification.poll\",\"defaultMessage\":\"A poll you have voted in has ended\"},move:{\"id\":\"notification.move\",\"defaultMessage\":\"{name} moved to {targetName}\"},'pleroma:chat_mention':{\"id\":\"notification.pleroma:chat_mention\",\"defaultMessage\":\"{name} sent you a message\"},'pleroma:emoji_reaction':{\"id\":\"notification.pleroma:emoji_reaction\",\"defaultMessage\":\"{name} reacted to your post\"},user_approved:{\"id\":\"notification.user_approved\",\"defaultMessage\":\"Welcome to {instance}!\"},update:{\"id\":\"notification.update\",\"defaultMessage\":\"{name} edited a post you interacted with\"},'pleroma:event_reminder':{\"id\":\"notification.pleroma:event_reminder\",\"defaultMessage\":\"An event you are participating in starts soon\"},'pleroma:participation_request':{\"id\":\"notification.pleroma:participation_request\",\"defaultMessage\":\"{name} wants to join your event\"},'pleroma:participation_accepted':{\"id\":\"notification.pleroma:participation_accepted\",\"defaultMessage\":\"You were accepted to join the event\"}});var buildMessage=function buildMessage(intl,type,account,totalCount,targetName,instanceTitle){var link=buildLink(account);var name=intl.formatMessage(nameMessage,{link:link,others:totalCount&&totalCount>0?/*#__PURE__*/_jsx(FormattedMessage,{id:\"notification.others\",defaultMessage:\" + {count, plural, one {# other} other {# others}}\",values:{count:totalCount-1}}):''});return intl.formatMessage(messages[type],{name:name,targetName:targetName,instance:instanceTitle});};var avatarSize=48;var Notification=function Notification(props){var _props$hidden=props.hidden,hidden=_props$hidden===void 0?false:_props$hidden,onMoveUp=props.onMoveUp,onMoveDown=props.onMoveDown;var dispatch=useAppDispatch();var getNotification=useCallback(makeGetNotification(),[]);var notification=useAppSelector(function(state){return getNotification(state,props.notification);});var history=useHistory();var intl=useIntl();var instance=useInstance();var type=notification.type;var account=notification.account,status=notification.status;var getHandlers=function getHandlers(){return{reply:handleMention,favourite:handleHotkeyFavourite,boost:handleHotkeyBoost,mention:handleMention,open:handleOpen,openProfile:handleOpenProfile,moveUp:handleMoveUp,moveDown:handleMoveDown,toggleHidden:handleHotkeyToggleHidden};};var handleOpen=function handleOpen(){if(status&&_typeof(status)==='object'&&account&&_typeof(account)==='object'){history.push(\"/@\".concat(account.acct,\"/posts/\").concat(status.id));}else{handleOpenProfile();}};var handleOpenProfile=function handleOpenProfile(){if(account&&_typeof(account)==='object'){history.push(\"/@\".concat(account.acct));}};var handleMention=useCallback(function(e){e===null||e===void 0?void 0:e.preventDefault();if(account&&_typeof(account)==='object'){dispatch(mentionCompose(account));}},[account]);var handleHotkeyFavourite=useCallback(function(e){if(status&&_typeof(status)==='object'){if(status.favourited){dispatch(unfavourite(status));}else{dispatch(favourite(status));}}},[status]);var handleHotkeyBoost=useCallback(function(e){if(status&&_typeof(status)==='object'){dispatch(function(_,getState){var boostModal=getSettings(getState()).get('boostModal');if(status.reblogged){dispatch(unreblog(status));}else{if(e!==null&&e!==void 0&&e.shiftKey||!boostModal){dispatch(reblog(status));}else{dispatch(openModal('BOOST',{status:status,onReblog:function onReblog(status){dispatch(reblog(status));}}));}}});}},[status]);var handleHotkeyToggleHidden=useCallback(function(e){if(status&&_typeof(status)==='object'){if(status.hidden){dispatch(revealStatus(status.id));}else{dispatch(hideStatus(status.id));}}},[status]);var handleMoveUp=function handleMoveUp(){if(onMoveUp){onMoveUp(notification.id);}};var handleMoveDown=function handleMoveDown(){if(onMoveDown){onMoveDown(notification.id);}};var renderIcon=function renderIcon(){if(type==='pleroma:emoji_reaction'&&notification.emoji){return/*#__PURE__*/_jsx(Emoji,{emoji:notification.emoji,className:\"h-4 w-4 flex-none\"});}else if(validType(type)){return/*#__PURE__*/_jsx(Icon,{src:icons[type],className:\"flex-none text-primary-600 dark:text-primary-400\"});}else{return null;}};var renderContent=function renderContent(){switch(type){case'follow':case'user_approved':return account&&_typeof(account)==='object'?/*#__PURE__*/_jsx(AccountContainer,{id:account.id,hidden:hidden,avatarSize:avatarSize}):null;case'follow_request':return account&&_typeof(account)==='object'?/*#__PURE__*/_jsx(AccountContainer,{id:account.id,hidden:hidden,avatarSize:avatarSize,actionType:\"follow_request\"}):null;case'move':return account&&_typeof(account)==='object'&&notification.target&&_typeof(notification.target)==='object'?/*#__PURE__*/_jsx(AccountContainer,{id:notification.target.id,hidden:hidden,avatarSize:avatarSize}):null;case'favourite':case'mention':case'reblog':case'status':case'poll':case'update':case'pleroma:emoji_reaction':case'pleroma:event_reminder':case'pleroma:participation_accepted':case'pleroma:participation_request':return status&&_typeof(status)==='object'?/*#__PURE__*/_jsx(StatusContainer,{id:status.id,hidden:hidden,onMoveDown:handleMoveDown,onMoveUp:handleMoveUp,avatarSize:avatarSize,contextType:\"notifications\"}):null;default:return null;}};var targetName=notification.target&&_typeof(notification.target)==='object'?notification.target.acct:'';var message=validType(type)&&account&&_typeof(account)==='object'?buildMessage(intl,type,account,notification.total_count,targetName,instance.title):null;var ariaLabel=validType(type)?notificationForScreenReader(intl,intl.formatMessage(messages[type],{name:account&&_typeof(account)==='object'?account.acct:'',targetName:targetName}),notification.created_at):'';return/*#__PURE__*/_jsx(HotKeys,{handlers:getHandlers(),\"data-testid\":\"notification\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"notification focusable\",tabIndex:0,\"aria-label\":ariaLabel},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"focusable p-4\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:3},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",style:{flexBasis:avatarSize}},void 0,renderIcon()),/*#__PURE__*/_jsx(\"div\",{className:\"truncate\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"xs\",truncate:true,\"data-testid\":\"message\"},void 0,message)))),/*#__PURE__*/_jsx(\"div\",{},void 0,renderContent()))));};export default Notification;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.iterator.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/es.array.filter.js\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/es.string.includes.js\";import\"core-js/modules/es.array.find-index.js\";import\"core-js/modules/es.array.map.js\";import clsx from'clsx';import{List as ImmutableList}from'immutable';import debounce from'lodash/debounce';import React,{useCallback,useEffect,useRef}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{createSelector}from'reselect';import{expandNotifications,scrollTopNotifications,dequeueNotifications}from'soapbox/actions/notifications';import{getSettings}from'soapbox/actions/settings';import PullToRefresh from'soapbox/components/pull-to-refresh';import ScrollTopButton from'soapbox/components/scroll-top-button';import ScrollableList from'soapbox/components/scrollable-list';import{Column}from'soapbox/components/ui';import PlaceholderNotification from'soapbox/features/placeholder/components/placeholder-notification';import{useAppDispatch,useAppSelector,useSettings}from'soapbox/hooks';import FilterBar from'./components/filter-bar';import Notification from'./components/notification';var messages=defineMessages({title:{\"id\":\"column.notifications\",\"defaultMessage\":\"Notifications\"},queue:{\"id\":\"notifications.queue_label\",\"defaultMessage\":\"Click to see {count} new {count, plural, one {notification} other {notifications}}\"}});var getNotifications=createSelector([function(state){return getSettings(state).getIn(['notifications','quickFilter','show']);},function(state){return getSettings(state).getIn(['notifications','quickFilter','active']);},function(state){return ImmutableList(getSettings(state).getIn(['notifications','shows']).filter(function(item){return!item;}).keys());},function(state){return state.notifications.items.toList();}],function(showFilterBar,allowedType,excludedTypes,notifications){if(!showFilterBar||allowedType==='all'){// used if user changed the notification settings after loading the notifications from the server\n// otherwise a list of notifications will come pre-filtered from the backend\n// we need to turn it off for FilterBar in order not to block ourselves from seeing a specific category\nreturn notifications.filterNot(function(item){return item!==null&&excludedTypes.includes(item.get('type'));});}return notifications.filter(function(item){return item!==null&&allowedType===item.get('type');});});var Notifications=function Notifications(){var dispatch=useAppDispatch();var intl=useIntl();var settings=useSettings();var showFilterBar=settings.getIn(['notifications','quickFilter','show']);var activeFilter=settings.getIn(['notifications','quickFilter','active']);var notifications=useAppSelector(function(state){return getNotifications(state);});var isLoading=useAppSelector(function(state){return state.notifications.isLoading;});// const isUnread = useAppSelector(state => state.notifications.unread > 0);\nvar hasMore=useAppSelector(function(state){return state.notifications.hasMore;});var totalQueuedNotificationsCount=useAppSelector(function(state){return state.notifications.totalQueuedNotificationsCount||0;});var node=useRef(null);var column=useRef(null);var scrollableContentRef=useRef(null);// const handleLoadGap = (maxId) => {\n//   dispatch(expandNotifications({ maxId }));\n// };\nvar handleLoadOlder=useCallback(debounce(function(){var last=notifications.last();dispatch(expandNotifications({maxId:last&&last.get('id')}));},300,{leading:true}),[notifications]);var handleScrollToTop=useCallback(debounce(function(){dispatch(scrollTopNotifications(true));},100),[]);var handleScroll=useCallback(debounce(function(){dispatch(scrollTopNotifications(false));},100),[]);var handleMoveUp=function handleMoveUp(id){var elementIndex=notifications.findIndex(function(item){return item!==null&&item.get('id')===id;})-1;_selectChild(elementIndex);};var handleMoveDown=function handleMoveDown(id){var elementIndex=notifications.findIndex(function(item){return item!==null&&item.get('id')===id;})+1;_selectChild(elementIndex);};var _selectChild=function _selectChild(index){var _node$current;(_node$current=node.current)===null||_node$current===void 0?void 0:_node$current.scrollIntoView({index:index,behavior:'smooth',done:function done(){var container=column.current;var element=container===null||container===void 0?void 0:container.querySelector(\"[data-index=\\\"\".concat(index,\"\\\"] .focusable\"));if(element){element.focus();}}});};var handleDequeueNotifications=function handleDequeueNotifications(){dispatch(dequeueNotifications());};var handleRefresh=function handleRefresh(){return dispatch(expandNotifications());};useEffect(function(){handleDequeueNotifications();dispatch(scrollTopNotifications(true));return function(){handleLoadOlder.cancel();handleScrollToTop.cancel();handleScroll.cancel();dispatch(scrollTopNotifications(false));};},[]);var emptyMessage=activeFilter==='all'?/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.notifications\",defaultMessage:\"You don't have any notifications yet. Interact with others to start the conversation.\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.notifications_filtered\",defaultMessage:\"You don't have any notifications of this type yet.\"});var scrollableContent=null;var filterBarContainer=showFilterBar?/*#__PURE__*/_jsx(FilterBar,{}):null;if(isLoading&&scrollableContentRef.current){scrollableContent=scrollableContentRef.current;}else if(notifications.size>0||hasMore){scrollableContent=notifications.map(function(item){return/*#__PURE__*/_jsx(Notification,{notification:item,onMoveUp:handleMoveUp,onMoveDown:handleMoveDown},item.id);});}else{scrollableContent=null;}scrollableContentRef.current=scrollableContent;var scrollContainer=/*#__PURE__*/React.createElement(ScrollableList,{ref:node,scrollKey:\"notifications\",isLoading:isLoading,showLoading:isLoading&&notifications.size===0,hasMore:hasMore,emptyMessage:emptyMessage,placeholderComponent:PlaceholderNotification,placeholderCount:20,onLoadMore:handleLoadOlder,onScrollToTop:handleScrollToTop,onScroll:handleScroll,className:clsx({'divide-y divide-gray-200 dark:divide-primary-800 divide-solid':notifications.size>0,'space-y-2':notifications.size===0})},scrollableContent);return/*#__PURE__*/React.createElement(Column,{ref:column,label:intl.formatMessage(messages.title),withHeader:false},filterBarContainer,/*#__PURE__*/_jsx(ScrollTopButton,{onClick:handleDequeueNotifications,count:totalQueuedNotificationsCount,message:messages.queue}),/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,scrollContainer));};export default Notifications;"],"names":["PlaceholderNotification","className","minLength","maxLength","space","alignItems","size","messages","all","mentions","favourites","boosts","polls","follows","emoji_reacts","statuses","intl","useIntl","dispatch","settings","features","selectedFilter","getIn","advancedMode","onClick","notificationType","items","text","formatMessage","action","name","push","src","title","emojiReacts","activeItem","icons","follow","follow_request","mention","favourite","reblog","status","poll","move","user_approved","update","nameMessage","buildMessage","type","account","totalCount","targetName","instanceTitle","link","acct","to","concat","dangerouslySetInnerHTML","__html","display_name_html","buildLink","others","id","defaultMessage","values","count","instance","props","_props$hidden","hidden","onMoveUp","onMoveDown","getNotification","useCallback","notification","state","history","handleOpenProfile","handleMention","e","preventDefault","handleHotkeyFavourite","favourited","handleHotkeyBoost","_","getState","boostModal","get","reblogged","shiftKey","onReblog","handleHotkeyToggleHidden","handleMoveUp","handleMoveDown","target","message","total_count","ariaLabel","timestamp","output","formatDate","hour","minute","month","day","join","notificationForScreenReader","created_at","HotKeys","handlers","reply","boost","open","openProfile","moveUp","moveDown","toggleHidden","tabIndex","style","flexBasis","emoji","theme","truncate","avatarSize","actionType","contextType","renderContent","queue","getNotifications","filter","item","keys","notifications","toList","showFilterBar","allowedType","excludedTypes","filterNot","includes","activeFilter","isLoading","hasMore","totalQueuedNotificationsCount","node","useRef","column","scrollableContentRef","handleLoadOlder","last","maxId","leading","handleScrollToTop","handleScroll","elementIndex","findIndex","_selectChild","index","_node$current","current","scrollIntoView","behavior","done","container","element","querySelector","focus","handleDequeueNotifications","useEffect","cancel","scrollableContent","emptyMessage","filterBarContainer","map","scrollContainer","ref","scrollKey","showLoading","placeholderComponent","placeholderCount","onLoadMore","onScrollToTop","onScroll","label","withHeader","onRefresh"],"sourceRoot":""}