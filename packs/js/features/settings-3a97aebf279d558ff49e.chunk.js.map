{"version":3,"file":"packs/js/features/settings-3a97aebf279d558ff49e.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/settings/components/messages-settings.tsx","webpack://soapbox/./app/soapbox/features/settings/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import List,{ListItem}from'soapbox/components/list';import{Toggle}from'soapbox/components/ui';import{useOwnAccount}from'soapbox/hooks';import{useUpdateCredentials}from'soapbox/queries/accounts';var messages=defineMessages({label:{\"id\":\"settings.messages.label\",\"defaultMessage\":\"Allow users to start a new chat with you\"}});var MessagesSettings=function MessagesSettings(){var account=useOwnAccount();var intl=useIntl();var updateCredentials=useUpdateCredentials();var handleChange=function handleChange(event){updateCredentials.mutate({accepts_chat_messages:event.target.checked});};if(!account){return null;}return/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.label)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:account.accepts_chat_messages,onChange:handleChange})));};export default MessagesSettings;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{fetchMfa}from'soapbox/actions/mfa';import List,{ListItem}from'soapbox/components/list';import{Card,CardBody,CardHeader,CardTitle,Column}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useFeatures,useOwnAccount}from'soapbox/hooks';import Preferences from'../preferences';import MessagesSettings from'./components/messages-settings';var messages=defineMessages({settings:{\"id\":\"settings.settings\",\"defaultMessage\":\"Settings\"},profile:{\"id\":\"settings.profile\",\"defaultMessage\":\"Profile\"},security:{\"id\":\"settings.security\",\"defaultMessage\":\"Security\"},preferences:{\"id\":\"settings.preferences\",\"defaultMessage\":\"Preferences\"},editProfile:{\"id\":\"settings.edit_profile\",\"defaultMessage\":\"Edit Profile\"},changeEmail:{\"id\":\"settings.change_email\",\"defaultMessage\":\"Change Email\"},changePassword:{\"id\":\"settings.change_password\",\"defaultMessage\":\"Change Password\"},configureMfa:{\"id\":\"settings.configure_mfa\",\"defaultMessage\":\"Configure MFA\"},sessions:{\"id\":\"settings.sessions\",\"defaultMessage\":\"Active sessions\"},deleteAccount:{\"id\":\"settings.delete_account\",\"defaultMessage\":\"Delete Account\"},accountMigration:{\"id\":\"settings.account_migration\",\"defaultMessage\":\"Move Account\"},accountAliases:{\"id\":\"navigation_bar.account_aliases\",\"defaultMessage\":\"Account aliases\"},other:{\"id\":\"settings.other\",\"defaultMessage\":\"Other options\"},mfaEnabled:{\"id\":\"mfa.enabled\",\"defaultMessage\":\"Enabled\"},mfaDisabled:{\"id\":\"mfa.disabled\",\"defaultMessage\":\"Disabled\"},backups:{\"id\":\"column.backups\",\"defaultMessage\":\"Backups\"},importData:{\"id\":\"navigation_bar.import_data\",\"defaultMessage\":\"Import data\"},exportData:{\"id\":\"column.export_data\",\"defaultMessage\":\"Export data\"}});/** User settings page. */var Settings=function Settings(){var dispatch=useAppDispatch();var history=useHistory();var intl=useIntl();var mfa=useAppSelector(function(state){return state.security.get('mfa');});var features=useFeatures();var account=useOwnAccount();var navigateToChangeEmail=function navigateToChangeEmail(){return history.push('/settings/email');};var navigateToChangePassword=function navigateToChangePassword(){return history.push('/settings/password');};var navigateToMfa=function navigateToMfa(){return history.push('/settings/mfa');};var navigateToSessions=function navigateToSessions(){return history.push('/settings/tokens');};var navigateToEditProfile=function navigateToEditProfile(){return history.push('/settings/profile');};var navigateToDeleteAccount=function navigateToDeleteAccount(){return history.push('/settings/account');};var navigateToMoveAccount=function navigateToMoveAccount(){return history.push('/settings/migration');};var navigateToAliases=function navigateToAliases(){return history.push('/settings/aliases');};var navigateToBackups=function navigateToBackups(){return history.push('/settings/backups');};var navigateToImportData=function navigateToImportData(){return history.push('/settings/import');};var navigateToExportData=function navigateToExportData(){return history.push('/settings/export');};var isMfaEnabled=mfa.getIn(['settings','totp']);useEffect(function(){if(features.security)dispatch(fetchMfa());},[dispatch]);if(!account)return null;var displayName=account.display_name||account.username;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.settings),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(Card,{className:\"space-y-4\",variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.profile)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.editProfile),onClick:navigateToEditProfile},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,displayName)))),(features.security||features.sessions)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.security)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,features.security&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changeEmail),onClick:navigateToChangeEmail}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changePassword),onClick:navigateToChangePassword}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.configureMfa),onClick:navigateToMfa},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,isMfaEnabled?intl.formatMessage(messages.mfaEnabled):intl.formatMessage(messages.mfaDisabled)))),features.sessions&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.sessions),onClick:navigateToSessions})))),features.chats?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"column.chats\",defaultMessage:\"Chats\"})})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(MessagesSettings,{}))):null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.preferences)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(Preferences,{})),(features.security||features.accountAliases)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.other)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,features.importData&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.importData),onClick:navigateToImportData}),features.exportData&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.exportData),onClick:navigateToExportData}),features.backups&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.backups),onClick:navigateToBackups}),features.federating&&(features.accountMoving?/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.accountMigration),onClick:navigateToMoveAccount}):features.accountAliases&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.accountAliases),onClick:navigateToAliases})),features.security&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.deleteAccount),onClick:navigateToDeleteAccount}))))));};export default Settings;"],"names":["messages","label","account","intl","useIntl","updateCredentials","formatMessage","checked","accepts_chat_messages","onChange","event","mutate","target","settings","profile","security","preferences","editProfile","changeEmail","changePassword","configureMfa","sessions","deleteAccount","accountMigration","accountAliases","other","mfaEnabled","mfaDisabled","backups","importData","exportData","dispatch","history","mfa","state","get","features","isMfaEnabled","getIn","useEffect","displayName","display_name","username","transparent","withHeader","className","variant","title","onClick","push","chats","id","defaultMessage","federating","accountMoving"],"sourceRoot":""}