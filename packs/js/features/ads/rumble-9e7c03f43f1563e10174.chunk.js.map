{"version":3,"file":"packs/js/features/ads/rumble-9e7c03f43f1563e10174.chunk.js","mappings":"iHAA0aA,E,0DAAxCC,EAAiB,CAACC,QAAsBF,GAAQ,OAA+BG,mBAAmBC,MAAK,SAASC,EAAQC,GAAU,IAAIC,EAAMC,EAASC,EAAcC,EAASC,EAAiBC,EAAK,OAAOT,mBAAmBU,MAAK,SAAkBC,GAAU,cAAeA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAiJ,GAA/IT,EAAMD,IAAWE,GAAS,QAAYD,GAAOE,GAAc,QAAiBF,KAAOG,EAASD,EAAcQ,WAAWC,MAAM,CAAC,MAAM,cAA0B,CAACJ,EAASE,KAAK,GAAG,K,CAAuC,OAAhCF,EAASC,KAAK,EAAED,EAASE,KAAK,EAAS,QAAUN,EAAS,CAACS,QAAQ,CAAC,kBAAkBX,EAASY,IAAI,SAAS,QAAQ,KAAK,EAA4D,OAA1DT,EAAiBG,EAASO,KAAKT,EAAKD,EAAiBC,KAAYE,EAASQ,OAAO,SAASV,EAAKW,IAAIC,KAAI,SAASC,GAAM,OAAO,QAAY,CAACC,WAAWD,EAAKC,WAAWC,MAAK,QAAc,CAACC,KAAiB,IAAZH,EAAKG,KAAS,OAAO,OAAOC,MAAMJ,EAAKK,MAAMC,IAAIN,EAAKO,QAAQC,WAAW,IAAIC,KAAkB,IAAbT,EAAKU,UAAgB,KAAI,KAAK,GAAGrB,EAASC,KAAK,GAAGD,EAASsB,GAAGtB,EAAgB,MAAE,GAAG,KAAK,GAAG,OAAOA,EAASQ,OAAO,SAAS,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOR,EAASuB,OAAQ,GAAEhC,EAAQ,KAAK,CAAC,CAAC,EAAE,KAAM,KAAI,SAAgBiC,GAAI,OAAOtC,EAAQuC,MAAMC,KAAKC,UAAW,IAAoB,W","sources":["webpack://soapbox/./app/soapbox/features/ads/providers/rumble.ts"],"sourcesContent":["import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import\"regenerator-runtime/runtime.js\";import\"core-js/modules/es.array.map.js\";import axios from'axios';import{getSettings}from'soapbox/actions/settings';import{getSoapboxConfig}from'soapbox/actions/soapbox';import{normalizeAd,normalizeCard}from'soapbox/normalizers';/** Provides ads from Soapbox Config. */var RumbleAdProvider={getAds:function(){var _getAds=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(getState){var state,settings,soapboxConfig,endpoint,_yield$axios$get,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:state=getState();settings=getSettings(state);soapboxConfig=getSoapboxConfig(state);endpoint=soapboxConfig.extensions.getIn(['ads','endpoint']);if(!endpoint){_context.next=15;break;}_context.prev=5;_context.next=8;return axios.get(endpoint,{headers:{'Accept-Language':settings.get('locale','*')}});case 8:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data.ads.map(function(item){return normalizeAd({impression:item.impression,card:normalizeCard({type:item.type===1?'link':'rich',image:item.asset,url:item.click}),expires_at:new Date(item.expires*1000)});}));case 13:_context.prev=13;_context.t0=_context[\"catch\"](5);case 15:return _context.abrupt(\"return\",[]);case 16:case\"end\":return _context.stop();}},_callee,null,[[5,13]]);}));function getAds(_x){return _getAds.apply(this,arguments);}return getAds;}()};export default RumbleAdProvider;"],"names":["_getAds","RumbleAdProvider","getAds","regeneratorRuntime","mark","_callee","getState","state","settings","soapboxConfig","endpoint","_yield$axios$get","data","wrap","_context","prev","next","extensions","getIn","headers","get","sent","abrupt","ads","map","item","impression","card","type","image","asset","url","click","expires_at","Date","expires","t0","stop","_x","apply","this","arguments"],"sourceRoot":""}