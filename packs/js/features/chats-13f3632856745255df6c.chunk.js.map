{"version":3,"file":"packs/js/features/chats-13f3632856745255df6c.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/blankslate-empty.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/blankslate-with-chats.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/chat-page-main.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/chat-page-new.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/chat-page-settings.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/chat-page-sidebar.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/components/welcome.tsx","webpack://soapbox/./app/soapbox/features/chats/components/chat-page/chat-page.tsx","webpack://soapbox/./app/soapbox/features/chats/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React from'react';import{FormattedMessage}from'react-intl';import{useHistory}from'react-router-dom';import{Button,Stack,Text}from'soapbox/components/ui';/** To display on the chats main page when no message is selected. */var BlankslateEmpty=function BlankslateEmpty(){var history=useHistory();var handleNewChat=function handleNewChat(){history.push('/chats/new');};return/*#__PURE__*/_jsx(Stack,{space:6,alignItems:\"center\",justifyContent:\"center\",className:\"h-full p-6\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2,className:\"max-w-sm\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"2xl\",weight:\"bold\",tag:\"h2\",align:\"center\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate.title\",defaultMessage:\"No messages yet\"})),/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",align:\"center\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate.subtitle\",defaultMessage:\"Search for someone to chat with\"}))),/*#__PURE__*/_jsx(Button,{theme:\"primary\",onClick:handleNewChat},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate.new_chat\",defaultMessage:\"Message someone\"})));};export default BlankslateEmpty;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React from'react';import{FormattedMessage}from'react-intl';import{useHistory}from'react-router-dom';import{Button,Stack,Text}from'soapbox/components/ui';/** To display on the chats main page when no message is selected, but chats are present. */var BlankslateWithChats=function BlankslateWithChats(){var history=useHistory();var handleNewChat=function handleNewChat(){history.push('/chats/new');};return/*#__PURE__*/_jsx(Stack,{space:6,alignItems:\"center\",justifyContent:\"center\",className:\"h-full p-6\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2,className:\"max-w-sm\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"2xl\",weight:\"bold\",tag:\"h2\",align:\"center\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate_with_chats.title\",defaultMessage:\"Select a chat\"})),/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",align:\"center\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate_with_chats.subtitle\",defaultMessage:\"Select from one of your open chats or create a new message.\"}))),/*#__PURE__*/_jsx(Button,{theme:\"primary\",onClick:handleNewChat},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"chats.main.blankslate.new_chat\",defaultMessage:\"Message someone\"})));};export default BlankslateWithChats;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React,{useRef}from'react';import{defineMessages,useIntl}from'react-intl';import{Link,useHistory,useParams}from'react-router-dom';import{blockAccount,unblockAccount}from'soapbox/actions/accounts';import{openModal}from'soapbox/actions/modals';import List,{ListItem}from'soapbox/components/list';import{Avatar,HStack,Icon,IconButton,Menu,MenuButton,MenuItem,MenuList,Stack,Text,Tooltip}from'soapbox/components/ui';import VerificationBadge from'soapbox/components/verification-badge';import{useChatContext}from'soapbox/contexts/chat-context';import{useAppDispatch,useAppSelector,useFeatures}from'soapbox/hooks';import{MessageExpirationValues,useChat,useChatActions,useChats}from'soapbox/queries/chats';import{secondsToDays}from'soapbox/utils/numbers';import Chat from'../../chat';import BlankslateEmpty from'./blankslate-empty';import BlankslateWithChats from'./blankslate-with-chats';var messages=defineMessages({blockMessage:{\"id\":\"chat_settings.block.message\",\"defaultMessage\":\"Blocking will prevent this profile from direct messaging you and viewing your content. You can unblock later.\"},blockHeading:{\"id\":\"chat_settings.block.heading\",\"defaultMessage\":\"Block @{acct}\"},blockConfirm:{\"id\":\"chat_settings.block.confirm\",\"defaultMessage\":\"Block\"},unblockMessage:{\"id\":\"chat_settings.unblock.message\",\"defaultMessage\":\"Unblocking will allow this profile to direct message you and view your content.\"},unblockHeading:{\"id\":\"chat_settings.unblock.heading\",\"defaultMessage\":\"Unblock @{acct}\"},unblockConfirm:{\"id\":\"chat_settings.unblock.confirm\",\"defaultMessage\":\"Unblock\"},leaveMessage:{\"id\":\"chat_settings.leave.message\",\"defaultMessage\":\"Are you sure you want to leave this chat? Messages will be deleted for you and this chat will be removed from your inbox.\"},leaveHeading:{\"id\":\"chat_settings.leave.heading\",\"defaultMessage\":\"Leave Chat\"},leaveConfirm:{\"id\":\"chat_settings.leave.confirm\",\"defaultMessage\":\"Leave Chat\"},blockUser:{\"id\":\"chat_settings.options.block_user\",\"defaultMessage\":\"Block @{acct}\"},unblockUser:{\"id\":\"chat_settings.options.unblock_user\",\"defaultMessage\":\"Unblock @{acct}\"},reportUser:{\"id\":\"chat_settings.options.report_user\",\"defaultMessage\":\"Report @{acct}\"},leaveChat:{\"id\":\"chat_settings.options.leave_chat\",\"defaultMessage\":\"Leave Chat\"},autoDeleteLabel:{\"id\":\"chat_settings.auto_delete.label\",\"defaultMessage\":\"Auto-delete messages\"},autoDeleteHint:{\"id\":\"chat_settings.auto_delete.hint\",\"defaultMessage\":\"Sent messages will auto-delete after the time period selected\"},autoDelete2Minutes:{\"id\":\"chat_settings.auto_delete.2minutes\",\"defaultMessage\":\"2 minutes\"},autoDelete7Days:{\"id\":\"chat_settings.auto_delete.7days\",\"defaultMessage\":\"7 days\"},autoDelete14Days:{\"id\":\"chat_settings.auto_delete.14days\",\"defaultMessage\":\"14 days\"},autoDelete30Days:{\"id\":\"chat_settings.auto_delete.30days\",\"defaultMessage\":\"30 days\"},autoDelete90Days:{\"id\":\"chat_settings.auto_delete.90days\",\"defaultMessage\":\"90 days\"},autoDeleteMessage:{\"id\":\"chat_window.auto_delete_label\",\"defaultMessage\":\"Auto-delete after {day, plural, one {# day} other {# days}}\"},autoDeleteMessageTooltip:{\"id\":\"chat_window.auto_delete_tooltip\",\"defaultMessage\":\"Chat messages are set to auto-delete after {day, plural, one {# day} other {# days}} upon sending.\"}});var ChatPageMain=function ChatPageMain(){var dispatch=useAppDispatch();var intl=useIntl();var features=useFeatures();var history=useHistory();var _useParams=useParams(),chatId=_useParams.chatId;var _useChat=useChat(chatId),chat=_useChat.data;var _useChatContext=useChatContext(),currentChatId=_useChatContext.currentChatId;var _useChats=useChats(),_useChats$chatsQuery=_useChats.chatsQuery,chats=_useChats$chatsQuery.data,isLoading=_useChats$chatsQuery.isLoading;var inputRef=useRef(null);var _useChatActions=useChatActions(chat===null||chat===void 0?void 0:chat.id),deleteChat=_useChatActions.deleteChat,updateChat=_useChatActions.updateChat;var handleUpdateChat=function handleUpdateChat(value){return updateChat.mutate({message_expiration:value});};var isBlocking=useAppSelector(function(state){var _chat$account;return state.getIn(['relationships',chat===null||chat===void 0?void 0:(_chat$account=chat.account)===null||_chat$account===void 0?void 0:_chat$account.id,'blocking']);});var handleBlockUser=function handleBlockUser(){dispatch(openModal('CONFIRM',{heading:intl.formatMessage(messages.blockHeading,{acct:chat===null||chat===void 0?void 0:chat.account.acct}),message:intl.formatMessage(messages.blockMessage),confirm:intl.formatMessage(messages.blockConfirm),confirmationTheme:'primary',onConfirm:function onConfirm(){return dispatch(blockAccount(chat===null||chat===void 0?void 0:chat.account.id));}}));};var handleUnblockUser=function handleUnblockUser(){dispatch(openModal('CONFIRM',{heading:intl.formatMessage(messages.unblockHeading,{acct:chat===null||chat===void 0?void 0:chat.account.acct}),message:intl.formatMessage(messages.unblockMessage),confirm:intl.formatMessage(messages.unblockConfirm),confirmationTheme:'primary',onConfirm:function onConfirm(){return dispatch(unblockAccount(chat===null||chat===void 0?void 0:chat.account.id));}}));};var handleLeaveChat=function handleLeaveChat(){dispatch(openModal('CONFIRM',{heading:intl.formatMessage(messages.leaveHeading),message:intl.formatMessage(messages.leaveMessage),confirm:intl.formatMessage(messages.leaveConfirm),confirmationTheme:'primary',onConfirm:function onConfirm(){deleteChat.mutate(undefined,{onSuccess:function onSuccess(){history.push('/chats');}});}}));};if(isLoading){return null;}if(!currentChatId&&chats&&chats.length>0){return/*#__PURE__*/_jsx(BlankslateWithChats,{});}if(!currentChatId){return/*#__PURE__*/_jsx(BlankslateEmpty,{});}if(!chat){return null;}return/*#__PURE__*/_jsx(Stack,{className:\"h-full overflow-hidden\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\",space:2,className:\"w-full p-4\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:2,className:\"overflow-hidden\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/arrow-left.svg'),className:\"mr-2 h-7 w-7 sm:mr-0 sm:hidden\",onClick:function onClick(){return history.push('/chats');}}),/*#__PURE__*/_jsx(Link,{to:\"/@\".concat(chat.account.acct)},void 0,/*#__PURE__*/_jsx(Avatar,{src:chat.account.avatar,size:40,className:\"flex-none\"}))),/*#__PURE__*/_jsx(Stack,{alignItems:\"start\",className:\"h-11 overflow-hidden\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full grow items-center space-x-1\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/@\".concat(chat.account.acct)},void 0,/*#__PURE__*/_jsx(Text,{weight:\"bold\",size:\"sm\",align:\"left\",truncate:true},void 0,chat.account.display_name||\"@\".concat(chat.account.username))),chat.account.verified&&/*#__PURE__*/_jsx(VerificationBadge,{})),chat.message_expiration&&/*#__PURE__*/_jsx(Tooltip,{text:intl.formatMessage(messages.autoDeleteMessageTooltip,{day:secondsToDays(chat.message_expiration)})},void 0,/*#__PURE__*/_jsx(Text,{align:\"left\",size:\"sm\",weight:\"medium\",theme:\"primary\",truncate:true,className:\"w-full cursor-help\"},void 0,intl.formatMessage(messages.autoDeleteMessage,{day:secondsToDays(chat.message_expiration)}))))),/*#__PURE__*/_jsx(Menu,{},void 0,/*#__PURE__*/_jsx(MenuButton,{as:IconButton,src:require('@tabler/icons/info-circle.svg'),iconClassName:\"h-5 w-5 text-gray-600\",children:null}),/*#__PURE__*/_jsx(MenuList,{className:\"w-80\"},void 0,/*#__PURE__*/_jsx(Stack,{space:4,className:\"px-6 py-5\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:3},void 0,/*#__PURE__*/_jsx(Avatar,{src:chat.account.avatar_static,size:50}),/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{weight:\"semibold\"},void 0,chat.account.display_name),/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"primary\"},void 0,\"@\",chat.account.acct))),features.chatsExpiration&&/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.autoDeleteLabel),hint:intl.formatMessage(messages.autoDeleteHint)}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.autoDelete7Days),onSelect:function onSelect(){return handleUpdateChat(MessageExpirationValues.SEVEN);},isSelected:chat.message_expiration===MessageExpirationValues.SEVEN}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.autoDelete14Days),onSelect:function onSelect(){return handleUpdateChat(MessageExpirationValues.FOURTEEN);},isSelected:chat.message_expiration===MessageExpirationValues.FOURTEEN}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.autoDelete30Days),onSelect:function onSelect(){return handleUpdateChat(MessageExpirationValues.THIRTY);},isSelected:chat.message_expiration===MessageExpirationValues.THIRTY}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.autoDelete90Days),onSelect:function onSelect(){return handleUpdateChat(MessageExpirationValues.NINETY);},isSelected:chat.message_expiration===MessageExpirationValues.NINETY})),/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(MenuItem,{as:\"button\",onSelect:isBlocking?handleUnblockUser:handleBlockUser,className:\"!px-0 hover:!bg-transparent\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full items-center space-x-2 text-sm font-bold text-primary-500 dark:text-accent-blue\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/ban.svg'),className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{},void 0,intl.formatMessage(isBlocking?messages.unblockUser:messages.blockUser,{acct:chat.account.acct})))),features.chatsDelete&&/*#__PURE__*/_jsx(MenuItem,{as:\"button\",onSelect:handleLeaveChat,className:\"!px-0 hover:!bg-transparent\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full items-center space-x-2 text-sm font-bold text-danger-600 dark:text-danger-500\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/logout.svg'),className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{},void 0,intl.formatMessage(messages.leaveChat))))))))),/*#__PURE__*/_jsx(\"div\",{className:\"h-full overflow-hidden\"},void 0,/*#__PURE__*/_jsx(Chat,{className:\"h-full\",chat:chat,inputRef:inputRef})));};export default ChatPageMain;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{CardTitle,HStack,IconButton,Stack}from'soapbox/components/ui';import ChatSearch from'../../chat-search/chat-search';var messages=defineMessages({title:{\"id\":\"chat.new_message.title\",\"defaultMessage\":\"New Message\"}});/** New message form to create a chat. */var ChatPageNew=function ChatPageNew(){var intl=useIntl();var history=useHistory();return/*#__PURE__*/_jsx(Stack,{className:\"h-full space-y-4\"},void 0,/*#__PURE__*/_jsx(Stack,{className:\"grow px-4 pt-6 sm:px-6\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/arrow-left.svg'),className:\"mr-2 h-7 w-7 sm:mr-0 sm:hidden\",onClick:function onClick(){return history.push('/chats');}}),/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.title)}))),/*#__PURE__*/_jsx(ChatSearch,{isMainPage:true}));};export default ChatPageNew;","import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.object.keys.js\";import\"core-js/modules/es.symbol.js\";import\"core-js/modules/es.array.filter.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.object.get-own-property-descriptor.js\";import\"core-js/modules/web.dom-collections.for-each.js\";import\"core-js/modules/es.object.get-own-property-descriptors.js\";import\"core-js/modules/es.object.define-properties.js\";import\"core-js/modules/es.object.define-property.js\";import React,{useState}from'react';import{defineMessages,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{changeSetting}from'soapbox/actions/settings';import List,{ListItem}from'soapbox/components/list';import{Button,CardBody,CardTitle,Form,HStack,IconButton,Stack,Toggle}from'soapbox/components/ui';import SettingToggle from'soapbox/features/notifications/components/setting-toggle';import{useAppDispatch,useOwnAccount,useSettings}from'soapbox/hooks';import{useUpdateCredentials}from'soapbox/queries/accounts';var messages=defineMessages({title:{\"id\":\"chat.page_settings.title\",\"defaultMessage\":\"Message Settings\"},preferences:{\"id\":\"chat.page_settings.preferences\",\"defaultMessage\":\"Preferences\"},privacy:{\"id\":\"chat.page_settings.privacy\",\"defaultMessage\":\"Privacy\"},acceptingMessageLabel:{\"id\":\"chat.page_settings.accepting_messages.label\",\"defaultMessage\":\"Allow users to start a new chat with you\"},playSoundsLabel:{\"id\":\"chat.page_settings.play_sounds.label\",\"defaultMessage\":\"Play a sound when you receive a message\"},submit:{\"id\":\"chat.page_settings.submit\",\"defaultMessage\":\"Save\"}});var ChatPageSettings=function ChatPageSettings(){var account=useOwnAccount();var intl=useIntl();var history=useHistory();var dispatch=useAppDispatch();var settings=useSettings();var updateCredentials=useUpdateCredentials();var _useState=useState({chats_onboarded:true,accepts_chat_messages:account===null||account===void 0?void 0:account.accepts_chat_messages}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var onToggleChange=function onToggleChange(key,checked){dispatch(changeSetting(key,checked,{showAlert:true}));};var handleSubmit=function handleSubmit(event){event.preventDefault();updateCredentials.mutate(data);};return/*#__PURE__*/_jsx(Stack,{className:\"h-full space-y-8 py-6 px-4 sm:p-6\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/arrow-left.svg'),className:\"mr-2 h-7 w-7 sm:mr-0 sm:hidden\",onClick:function onClick(){return history.push('/chats');}}),/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.title)})),/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.preferences)}),/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.playSoundsLabel)},void 0,/*#__PURE__*/_jsx(SettingToggle,{settings:settings,settingPath:['chats','sound'],onChange:onToggleChange}))),/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.privacy)}),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.acceptingMessageLabel)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:data.accepts_chat_messages,onChange:function onChange(event){return setData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{accepts_chat_messages:event.target.checked});});}})))),/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"primary\",disabled:updateCredentials.isLoading},void 0,intl.formatMessage(messages.submit))));};export default ChatPageSettings;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import\"core-js/modules/es.array.push.js\";import React,{useState}from'react';import{defineMessages,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{CardTitle,HStack,IconButton,Stack}from'soapbox/components/ui';import{useDebounce,useFeatures}from'soapbox/hooks';import ChatList from'../../chat-list';import ChatSearchInput from'../../chat-search-input';var messages=defineMessages({title:{\"id\":\"column.chats\",\"defaultMessage\":\"Messages\"}});var ChatPageSidebar=function ChatPageSidebar(){var intl=useIntl();var history=useHistory();var features=useFeatures();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var debouncedSearch=useDebounce(search,300);var handleClickChat=function handleClickChat(chat){history.push(\"/chats/\".concat(chat.id));};var handleChatCreate=function handleChatCreate(){history.push('/chats/new');};var handleSettingsClick=function handleSettingsClick(){history.push('/chats/settings');};return/*#__PURE__*/_jsx(Stack,{space:4,className:\"h-full\"},void 0,/*#__PURE__*/_jsx(Stack,{space:4,className:\"px-4 pt-6\"},void 0,/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",justifyContent:\"between\"},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.title)}),/*#__PURE__*/_jsx(HStack,{space:1},void 0,/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/settings.svg'),iconClassName:\"h-5 w-5 text-gray-600\",onClick:handleSettingsClick}),/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/edit.svg'),iconClassName:\"h-5 w-5 text-gray-600\",onClick:handleChatCreate}))),features.chatsSearch&&/*#__PURE__*/_jsx(ChatSearchInput,{value:search,onChange:function onChange(e){return setSearch(e.target.value);},onClear:function onClear(){return setSearch('');}})),/*#__PURE__*/_jsx(Stack,{className:\"h-full grow\"},void 0,/*#__PURE__*/_jsx(ChatList,{onClickChat:handleClickChat,searchValue:debouncedSearch})));};export default ChatPageSidebar;","import\"core-js/modules/es.object.keys.js\";import\"core-js/modules/es.symbol.js\";import\"core-js/modules/es.array.filter.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.object.get-own-property-descriptor.js\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/web.dom-collections.for-each.js\";import\"core-js/modules/es.object.get-own-property-descriptors.js\";import\"core-js/modules/es.object.define-properties.js\";import\"core-js/modules/es.object.define-property.js\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useState}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import List,{ListItem}from'soapbox/components/list';import{Button,CardBody,CardTitle,Form,Stack,Text,Toggle}from'soapbox/components/ui';import{useOwnAccount}from'soapbox/hooks';import{useUpdateCredentials}from'soapbox/queries/accounts';var messages=defineMessages({title:{\"id\":\"chat.welcome.title\",\"defaultMessage\":\"Welcome to {br} Chats!\"},subtitle:{\"id\":\"chat.welcome.subtitle\",\"defaultMessage\":\"Exchange direct messages with other users.\"},acceptingMessageLabel:{\"id\":\"chat.welcome.accepting_messages.label\",\"defaultMessage\":\"Allow users to start a new chat with you\"},notice:{\"id\":\"chat.welcome.notice\",\"defaultMessage\":\"You can change these settings later.\"},submit:{\"id\":\"chat.welcome.submit\",\"defaultMessage\":\"Save & Continue\"}});var Welcome=function Welcome(){var account=useOwnAccount();var intl=useIntl();var updateCredentials=useUpdateCredentials();var _useState=useState({chats_onboarded:true,accepts_chat_messages:account===null||account===void 0?void 0:account.accepts_chat_messages}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();updateCredentials.mutate(data);};return/*#__PURE__*/_jsx(Stack,{className:\"h-full overflow-y-auto py-20 px-4 sm:px-0\",\"data-testid\":\"chats-welcome\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto mb-2.5 w-full sm:w-3/5 xl:w-2/5\"},void 0,/*#__PURE__*/_jsx(Text,{align:\"center\",weight:\"bold\",className:\"mb-6 text-2xl leading-8 md:text-3xl\"},void 0,intl.formatMessage(messages.title,{br:/*#__PURE__*/_jsx(\"br\",{})})),/*#__PURE__*/_jsx(Text,{align:\"center\",theme:\"muted\"},void 0,intl.formatMessage(messages.subtitle))),/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,className:\"w-full space-y-8 sm:mx-auto sm:w-2/3 lg:w-3/5\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"chat.page_settings.privacy\",defaultMessage:\"Privacy\"})}),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.acceptingMessageLabel)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:data.accepts_chat_messages,onChange:function onChange(event){return setData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{accepts_chat_messages:event.target.checked});});}}))))),/*#__PURE__*/_jsx(Text,{align:\"center\",theme:\"muted\"},void 0,intl.formatMessage(messages.notice)),/*#__PURE__*/_jsx(Button,{type:\"submit\",theme:\"primary\",block:true,size:\"lg\",disabled:updateCredentials.isLoading},void 0,intl.formatMessage(messages.submit))));};export default Welcome;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import clsx from'clsx';import React,{useEffect,useLayoutEffect,useRef,useState}from'react';import{matchPath,Route,Switch,useHistory}from'react-router-dom';import{Stack}from'soapbox/components/ui';import{useOwnAccount}from'soapbox/hooks';import ChatPageMain from'./components/chat-page-main';import ChatPageNew from'./components/chat-page-new';import ChatPageSettings from'./components/chat-page-settings';import ChatPageSidebar from'./components/chat-page-sidebar';import Welcome from'./components/welcome';var ChatPage=function ChatPage(_ref){var chatId=_ref.chatId;var account=useOwnAccount();var history=useHistory();var isOnboarded=account===null||account===void 0?void 0:account.chats_onboarded;var path=history.location.pathname;var isSidebarHidden=matchPath(path,{path:['/chats/settings','/chats/new','/chats/:chatId'],exact:true});var containerRef=useRef(null);var _useState=useState('100%'),_useState2=_slicedToArray(_useState,2),height=_useState2[0],setHeight=_useState2[1];var calculateHeight=function calculateHeight(){if(!containerRef.current){return null;}var _containerRef$current=containerRef.current.getBoundingClientRect(),top=_containerRef$current.top;var fullHeight=document.body.offsetHeight;// On mobile, account for bottom navigation.\nvar offset=document.body.clientWidth<976?-61:0;setHeight(fullHeight-top+offset);};useLayoutEffect(function(){calculateHeight();},[containerRef.current]);useEffect(function(){window.addEventListener('resize',calculateHeight);return function(){window.removeEventListener('resize',calculateHeight);};},[]);return/*#__PURE__*/React.createElement(\"div\",{ref:containerRef,style:{height:height},className:\"h-screen overflow-hidden bg-white text-gray-900 shadow-lg dark:bg-primary-900 dark:text-gray-100 dark:shadow-none sm:rounded-t-xl\"},isOnboarded?/*#__PURE__*/_jsx(\"div\",{className:\"grid h-full grid-cols-9 overflow-hidden dark:divide-x-2 dark:divide-solid dark:divide-gray-800\",\"data-testid\":\"chat-page\"},void 0,/*#__PURE__*/_jsx(Stack,{className:clsx('dark:inset col-span-9 overflow-hidden bg-gradient-to-r from-white to-gray-100 dark:bg-gray-900 dark:bg-none sm:col-span-3',{'hidden sm:block':isSidebarHidden})},void 0,/*#__PURE__*/_jsx(ChatPageSidebar,{})),/*#__PURE__*/_jsx(Stack,{className:clsx('col-span-9 h-full overflow-hidden sm:col-span-6',{'hidden sm:block':!isSidebarHidden})},void 0,/*#__PURE__*/_jsx(Switch,{},void 0,/*#__PURE__*/_jsx(Route,{path:\"/chats/new\"},void 0,/*#__PURE__*/_jsx(ChatPageNew,{})),/*#__PURE__*/_jsx(Route,{path:\"/chats/settings\"},void 0,/*#__PURE__*/_jsx(ChatPageSettings,{})),/*#__PURE__*/_jsx(Route,{},void 0,/*#__PURE__*/_jsx(ChatPageMain,{}))))):/*#__PURE__*/_jsx(Welcome,{}));};export default ChatPage;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{ChatProvider}from'soapbox/contexts/chat-context';import ChatPage from'./components/chat-page/chat-page';var ChatIndex=function ChatIndex(_ref){var params=_ref.params;return/*#__PURE__*/_jsx(ChatProvider,{},void 0,/*#__PURE__*/_jsx(ChatPage,{chatId:params===null||params===void 0?void 0:params.chatId}));};export default ChatIndex;"],"names":["history","space","alignItems","justifyContent","className","size","weight","tag","align","id","defaultMessage","theme","onClick","push","messages","blockMessage","blockHeading","blockConfirm","unblockMessage","unblockHeading","unblockConfirm","leaveMessage","leaveHeading","leaveConfirm","blockUser","unblockUser","reportUser","leaveChat","autoDeleteLabel","autoDeleteHint","autoDelete2Minutes","autoDelete7Days","autoDelete14Days","autoDelete30Days","autoDelete90Days","autoDeleteMessage","autoDeleteMessageTooltip","dispatch","intl","useIntl","features","chatId","chat","data","currentChatId","_useChats$chatsQuery","chatsQuery","chats","isLoading","inputRef","useRef","_useChatActions","deleteChat","updateChat","handleUpdateChat","value","mutate","message_expiration","isBlocking","state","_chat$account","getIn","account","length","src","to","concat","acct","avatar","truncate","display_name","username","verified","text","formatMessage","day","as","iconClassName","children","avatar_static","chatsExpiration","label","hint","onSelect","isSelected","heading","message","confirm","confirmationTheme","onConfirm","chatsDelete","undefined","onSuccess","title","isMainPage","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","preferences","privacy","acceptingMessageLabel","playSoundsLabel","submit","settings","updateCredentials","_useState","useState","chats_onboarded","accepts_chat_messages","_useState2","setData","onSubmit","event","preventDefault","settingPath","onChange","checked","showAlert","prevData","type","disabled","search","setSearch","debouncedSearch","chatsSearch","e","onClear","onClickChat","searchValue","subtitle","notice","br","block","_ref","isOnboarded","path","location","pathname","isSidebarHidden","exact","containerRef","height","setHeight","calculateHeight","current","top","getBoundingClientRect","fullHeight","document","body","offsetHeight","offset","clientWidth","useLayoutEffect","useEffect","window","addEventListener","removeEventListener","ref","style","params"],"sourceRoot":""}