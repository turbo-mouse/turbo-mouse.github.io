{"version":3,"file":"packs/js/features/account_timeline-610ea0a955c07c4132dc.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/account-timeline/index.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-field.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-fields-panel.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-familiar-followers.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-info-panel.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{FormattedMessage}from'react-intl';import{useHistory}from'react-router-dom';import{fetchAccountByUsername}from'soapbox/actions/accounts';import{fetchPatronAccount}from'soapbox/actions/patron';import{expandAccountFeaturedTimeline,expandAccountTimeline}from'soapbox/actions/timelines';import MissingIndicator from'soapbox/components/missing-indicator';import StatusList from'soapbox/components/status-list';import{Card,CardBody,Spinner,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useFeatures,useSettings,useSoapboxConfig}from'soapbox/hooks';import{makeGetStatusIds,findAccountByUsername}from'soapbox/selectors';var getStatusIds=makeGetStatusIds();var AccountTimeline=function AccountTimeline(_ref){var params=_ref.params,_ref$withReplies=_ref.withReplies,withReplies=_ref$withReplies===void 0?false:_ref$withReplies;var history=useHistory();var dispatch=useAppDispatch();var features=useFeatures();var settings=useSettings();var soapboxConfig=useSoapboxConfig();var account=useAppSelector(function(state){return findAccountByUsername(state,params.username);});var _useState=useState(!account),_useState2=_slicedToArray(_useState,2),accountLoading=_useState2[0],setAccountLoading=_useState2[1];var path=withReplies?\"\".concat(account===null||account===void 0?void 0:account.id,\":with_replies\"):account===null||account===void 0?void 0:account.id;var showPins=settings.getIn(['account_timeline','shows','pinned'])===true&&!withReplies;var statusIds=useAppSelector(function(state){return getStatusIds(state,{type:\"account:\".concat(path),prefix:'account_timeline'});});var featuredStatusIds=useAppSelector(function(state){return getStatusIds(state,{type:\"account:\".concat(account===null||account===void 0?void 0:account.id,\":pinned\"),prefix:'account_timeline'});});var isBlocked=useAppSelector(function(state){return state.relationships.getIn([account===null||account===void 0?void 0:account.id,'blocked_by'])===true;});var unavailable=isBlocked&&!features.blockersVisible;var patronEnabled=soapboxConfig.getIn(['extensions','patron','enabled'])===true;var isLoading=useAppSelector(function(state){return state.getIn(['timelines',\"account:\".concat(path),'isLoading'])===true;});var hasMore=useAppSelector(function(state){return state.getIn(['timelines',\"account:\".concat(path),'hasMore'])===true;});var accountUsername=(account===null||account===void 0?void 0:account.username)||params.username;useEffect(function(){dispatch(fetchAccountByUsername(params.username,history)).then(function(){return setAccountLoading(false);}).catch(function(){return setAccountLoading(false);});},[params.username]);useEffect(function(){if(account&&!withReplies){dispatch(expandAccountFeaturedTimeline(account.id));}},[account===null||account===void 0?void 0:account.id,withReplies]);useEffect(function(){if(account&&patronEnabled){dispatch(fetchPatronAccount(account.url));}},[account===null||account===void 0?void 0:account.url,patronEnabled]);useEffect(function(){if(account){dispatch(expandAccountTimeline(account.id,{withReplies:withReplies}));}},[account===null||account===void 0?void 0:account.id,withReplies]);var handleLoadMore=function handleLoadMore(maxId){if(account){dispatch(expandAccountTimeline(account.id,{maxId:maxId,withReplies:withReplies}));}};if(!account&&accountLoading){return/*#__PURE__*/_jsx(Spinner,{});}else if(!account){return/*#__PURE__*/_jsx(MissingIndicator,{nested:true});}if(unavailable){return/*#__PURE__*/_jsx(Card,{},void 0,/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(Text,{align:\"center\"},void 0,isBlocked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_blocked\",defaultMessage:\"You are blocked by @{accountUsername}.\",values:{accountUsername:accountUsername}}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_unavailable\",defaultMessage:\"Profile unavailable\"}))));}return/*#__PURE__*/_jsx(StatusList,{scrollKey:\"account_timeline\",statusIds:statusIds,featuredStatusIds:showPins?featuredStatusIds:undefined,isLoading:isLoading,hasMore:hasMore,onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_timeline\",defaultMessage:\"No posts here!\"})});};export default AccountTimeline;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.regexp.exec.js\";import\"core-js/modules/es.string.match.js\";import clsx from'clsx';import React from'react';import{defineMessages,useIntl}from'react-intl';import Markup from'soapbox/components/markup';import{HStack,Icon}from'soapbox/components/ui';import BundleContainer from'soapbox/features/ui/containers/bundle-container';import{CryptoAddress}from'soapbox/features/ui/util/async-components';var getTicker=function getTicker(value){return(value.match(/\\$([a-zA-Z]*)/i)||[])[1];};var isTicker=function isTicker(value){return Boolean(getTicker(value));};var messages=defineMessages({linkVerifiedOn:{\"id\":\"account.link_verified_on\",\"defaultMessage\":\"Ownership of this link was checked on {date}\"}});var dateFormatOptions={month:'short',day:'numeric',year:'numeric',hour12:true,hour:'numeric',minute:'2-digit'};/** Renders a single profile field. */var ProfileField=function ProfileField(_ref){var field=_ref.field;var intl=useIntl();if(isTicker(field.name)){return/*#__PURE__*/_jsx(BundleContainer,{fetchComponent:CryptoAddress},void 0,function(Component){return/*#__PURE__*/_jsx(Component,{ticker:getTicker(field.name).toLowerCase(),address:field.value_plain});});}return/*#__PURE__*/_jsx(\"dl\",{},void 0,/*#__PURE__*/_jsx(\"dt\",{title:field.name},void 0,/*#__PURE__*/_jsx(Markup,{weight:\"bold\",tag:\"span\",dangerouslySetInnerHTML:{__html:field.name_emojified}})),/*#__PURE__*/_jsx(\"dd\",{className:clsx({'text-success-500':field.verified_at}),title:field.value_plain},void 0,/*#__PURE__*/_jsx(HStack,{space:2,alignItems:\"center\"},void 0,field.verified_at&&/*#__PURE__*/_jsx(\"span\",{className:\"flex-none\",title:intl.formatMessage(messages.linkVerifiedOn,{date:intl.formatDate(field.verified_at,dateFormatOptions)})},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/check.svg')})),/*#__PURE__*/_jsx(Markup,{className:\"overflow-hidden break-words\",tag:\"span\",dangerouslySetInnerHTML:{__html:field.value_emojified}}))));};export default ProfileField;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import React from'react';import{FormattedMessage}from'react-intl';import{Widget,Stack}from'soapbox/components/ui';import ProfileField from'./profile-field';/** Custom profile fields for sidebar. */var ProfileFieldsPanel=function ProfileFieldsPanel(_ref){var account=_ref.account;return/*#__PURE__*/_jsx(Widget,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"profile_fields_panel.title\",defaultMessage:\"Profile fields\"})},void 0,/*#__PURE__*/_jsx(Stack,{space:4},void 0,account.fields.map(function(field,i){return/*#__PURE__*/_jsx(ProfileField,{field:field},i);})));};export default ProfileFieldsPanel;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.slice.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.promise.js\";import\"core-js/modules/es.array.push.js\";import{OrderedSet as ImmutableOrderedSet}from'immutable';import React,{useEffect}from'react';import{FormattedList,FormattedMessage}from'react-intl';import{Link}from'react-router-dom';import{fetchAccountFamiliarFollowers}from'soapbox/actions/familiar-followers';import{openModal}from'soapbox/actions/modals';import HoverRefWrapper from'soapbox/components/hover-ref-wrapper';import{Text}from'soapbox/components/ui';import VerificationBadge from'soapbox/components/verification-badge';import{useAppDispatch,useAppSelector,useFeatures}from'soapbox/hooks';import{makeGetAccount}from'soapbox/selectors';var getAccount=makeGetAccount();var ProfileFamiliarFollowers=function ProfileFamiliarFollowers(_ref){var account=_ref.account;var dispatch=useAppDispatch();var me=useAppSelector(function(state){return state.me;});var features=useFeatures();var familiarFollowerIds=useAppSelector(function(state){var _state$user_lists$fam;return((_state$user_lists$fam=state.user_lists.familiar_followers.get(account.id))===null||_state$user_lists$fam===void 0?void 0:_state$user_lists$fam.items)||ImmutableOrderedSet();});var familiarFollowers=useAppSelector(function(state){return familiarFollowerIds.slice(0,2).map(function(accountId){return getAccount(state,accountId);});});useEffect(function(){if(me&&features.familiarFollowers){dispatch(fetchAccountFamiliarFollowers(account.id));}},[]);var openFamiliarFollowersModal=function openFamiliarFollowersModal(){dispatch(openModal('FAMILIAR_FOLLOWERS',{accountId:account.id}));};if(familiarFollowerIds.size===0){return null;}var accounts=familiarFollowers.map(function(account){return!!account&&/*#__PURE__*/_jsx(HoverRefWrapper,{accountId:account.id,inline:true},void 0,/*#__PURE__*/_jsx(Link,{className:\"mention\",to:\"/@\".concat(account.acct)},void 0,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:account.display_name_html}}),account.verified&&/*#__PURE__*/_jsx(VerificationBadge,{})));}).toArray();if(familiarFollowerIds.size>2){accounts.push(/*#__PURE__*/_jsx(\"span\",{className:\"cursor-pointer hover:underline\",role:\"presentation\",onClick:openFamiliarFollowersModal},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.familiar_followers.more\",defaultMessage:\"{count, plural, one {# other} other {# others}} you follow\",values:{count:familiarFollowerIds.size-familiarFollowers.size}})));}return/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.familiar_followers\",defaultMessage:\"Followed by {accounts}\",values:{accounts:/*#__PURE__*/_jsx(FormattedList,{type:\"conjunction\",value:accounts})}}));};export default ProfileFamiliarFollowers;","'use strict';import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.iterator.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.string.iterator.js\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/web.url.js\";import\"core-js/modules/web.url-search-params.js\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array.concat.js\";import React from'react';import{defineMessages,useIntl,FormattedMessage}from'react-intl';import Badge from'soapbox/components/badge';import Markup from'soapbox/components/markup';import{Icon,HStack,Stack,Text}from'soapbox/components/ui';import{useSoapboxConfig}from'soapbox/hooks';import{isLocal}from'soapbox/utils/accounts';import{badgeToTag,getBadges as getAccountBadges}from'soapbox/utils/badges';import{capitalize}from'soapbox/utils/strings';import ProfileFamiliarFollowers from'./profile-familiar-followers';import ProfileField from'./profile-field';import ProfileStats from'./profile-stats';/** Basically ensure the URL isn't `javascript:alert('hi')` or something like that */var isSafeUrl=function isSafeUrl(text){try{var url=new URL(text);return['http:','https:'].includes(url.protocol);}catch(e){return false;}};var messages=defineMessages({linkVerifiedOn:{\"id\":\"account.link_verified_on\",\"defaultMessage\":\"Ownership of this link was checked on {date}\"},account_locked:{\"id\":\"account.locked_info\",\"defaultMessage\":\"This account privacy status is set to locked. The owner manually reviews who can follow them.\"},deactivated:{\"id\":\"account.deactivated\",\"defaultMessage\":\"Deactivated\"},bot:{\"id\":\"account.badges.bot\",\"defaultMessage\":\"Bot\"}});/** User profile metadata, such as location, birthday, etc. */var ProfileInfoPanel=function ProfileInfoPanel(_ref){var account=_ref.account,username=_ref.username;var intl=useIntl();var _useSoapboxConfig=useSoapboxConfig(),displayFqn=_useSoapboxConfig.displayFqn;var getStaffBadge=function getStaffBadge(){if(account!==null&&account!==void 0&&account.admin){return/*#__PURE__*/_jsx(Badge,{slug:\"admin\",title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"account_moderation_modal.roles.admin\",defaultMessage:\"Admin\"})},\"staff\");}else if(account!==null&&account!==void 0&&account.moderator){return/*#__PURE__*/_jsx(Badge,{slug:\"moderator\",title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"account_moderation_modal.roles.moderator\",defaultMessage:\"Moderator\"})},\"staff\");}else{return null;}};var getCustomBadges=function getCustomBadges(){var badges=getAccountBadges(account);return badges.map(function(badge){return/*#__PURE__*/_jsx(Badge,{slug:badge,title:capitalize(badgeToTag(badge))},badge);});};var getBadges=function getBadges(){var custom=getCustomBadges();var staffBadge=getStaffBadge();var isPatron=account.getIn(['patron','is_patron'])===true;var badges=[];if(staffBadge){badges.push(staffBadge);}if(isPatron){badges.push(/*#__PURE__*/_jsx(Badge,{slug:\"patron\",title:\"Patron\"},\"patron\"));}return[].concat(badges,_toConsumableArray(custom));};var renderBirthday=function renderBirthday(){var birthday=account.birthday;if(!birthday)return null;var formattedBirthday=intl.formatDate(birthday,{timeZone:'UTC',day:'numeric',month:'long',year:'numeric'});var date=new Date(birthday);var today=new Date();var hasBirthday=date.getDate()===today.getDate()&&date.getMonth()===today.getMonth();return/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/balloon.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,hasBirthday?/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday_today\",defaultMessage:\"Birthday is today!\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday\",defaultMessage:\"Born {date}\",values:{date:formattedBirthday}})));};if(!account){return/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 min-w-0 flex-1 sm:px-2\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",direction:\"ltr\"},void 0,\"@\",username)))));}var content={__html:account.note_emojified};var deactivated=!account.pleroma.get('is_active',true)===true;var displayNameHtml=deactivated?{__html:intl.formatMessage(messages.deactivated)}:{__html:account.display_name_html};var memberSinceDate=intl.formatDate(account.created_at,{month:'long',year:'numeric'});var badges=getBadges();return/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 min-w-0 flex-1 sm:px-2\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"bold\",dangerouslySetInnerHTML:displayNameHtml}),account.bot&&/*#__PURE__*/_jsx(Badge,{slug:\"bot\",title:intl.formatMessage(messages.bot)}),badges.length>0&&/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,badges)),/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",direction:\"ltr\"},void 0,\"@\",displayFqn?account.fqn:account.acct),account.locked&&/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/lock.svg'),alt:intl.formatMessage(messages.account_locked),className:\"h-4 w-4 text-gray-600\"}))),/*#__PURE__*/_jsx(ProfileStats,{account:account}),account.note.length>0&&/*#__PURE__*/_jsx(Markup,{size:\"sm\",dangerouslySetInnerHTML:content}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-start gap-2 md:flex-row md:flex-wrap md:items-center\"},void 0,isLocal(account)?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/calendar.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.member_since\",defaultMessage:\"Joined {date}\",values:{date:memberSinceDate}}))):null,account.location?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/map-pin.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,account.location)):null,account.website?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/link.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[300px]\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",truncate:true},void 0,isSafeUrl(account.website)?/*#__PURE__*/_jsx(\"a\",{className:\"text-primary-600 hover:underline dark:text-accent-blue\",href:account.website,target:\"_blank\"},void 0,account.website):account.website))):null,renderBirthday()),/*#__PURE__*/_jsx(ProfileFamiliarFollowers,{account:account})),account.fields.size>0&&/*#__PURE__*/_jsx(Stack,{space:2,className:\"mt-4 xl:hidden\"},void 0,account.fields.map(function(field,i){return/*#__PURE__*/_jsx(ProfileField,{field:field},i);})));};export default ProfileInfoPanel;"],"names":["getStatusIds","_ref","params","_ref$withReplies","withReplies","history","dispatch","features","settings","soapboxConfig","account","state","username","_useState","useState","_useState2","accountLoading","setAccountLoading","path","concat","id","showPins","getIn","statusIds","type","prefix","featuredStatusIds","isBlocked","relationships","unavailable","blockersVisible","patronEnabled","isLoading","hasMore","accountUsername","useEffect","then","catch","url","align","defaultMessage","values","scrollKey","undefined","onLoadMore","maxId","emptyMessage","nested","getTicker","value","match","messages","linkVerifiedOn","dateFormatOptions","month","day","year","hour12","hour","minute","field","intl","name","Boolean","fetchComponent","Component","ticker","toLowerCase","address","value_plain","title","weight","tag","dangerouslySetInnerHTML","__html","name_emojified","className","verified_at","space","alignItems","formatMessage","date","formatDate","src","value_emojified","fields","map","i","getAccount","me","familiarFollowerIds","_state$user_lists$fam","user_lists","familiar_followers","get","items","familiarFollowers","slice","accountId","size","accounts","inline","to","acct","display_name_html","verified","toArray","push","role","onClick","count","theme","account_locked","deactivated","bot","useIntl","displayFqn","direction","content","note_emojified","displayNameHtml","pleroma","memberSinceDate","created_at","badges","custom","badge","slug","staffBadge","admin","moderator","isPatron","getBadges","length","fqn","locked","alt","note","location","website","truncate","text","URL","includes","protocol","e","isSafeUrl","href","target","birthday","formattedBirthday","timeZone","Date","today","hasBirthday","getDate","getMonth","renderBirthday"],"sourceRoot":""}