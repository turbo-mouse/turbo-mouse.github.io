{"version":3,"file":"packs/js/features/list_editor-5ecb2ca8cfd0a458e551.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/list-editor/components/account.tsx","webpack://soapbox/./app/soapbox/features/list-editor/components/edit-list-form.tsx","webpack://soapbox/./app/soapbox/features/list-editor/components/search.tsx","webpack://soapbox/./app/soapbox/features/list-editor/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/es.string.includes.js\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{removeFromListEditor,addToListEditor}from'soapbox/actions/lists';import IconButton from'soapbox/components/icon-button';import{HStack}from'soapbox/components/ui';import AccountContainer from'soapbox/containers/account-container';import{useAppSelector,useAppDispatch}from'soapbox/hooks';var messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});var Account=function Account(_ref){var accountId=_ref.accountId;var intl=useIntl();var dispatch=useAppDispatch();var isAdded=useAppSelector(function(state){return state.listEditor.accounts.items.includes(accountId);});var onRemove=function onRemove(){return dispatch(removeFromListEditor(accountId));};var onAdd=function onAdd(){return dispatch(addToListEditor(accountId));};var button;if(isAdded){button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/x.svg'),iconClassName:\"h-5 w-5\",title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/plus.svg'),iconClassName:\"h-5 w-5\",title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\",justifyContent:\"between\",className:\"p-2.5\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"w-full\"},void 0,/*#__PURE__*/_jsx(AccountContainer,{id:accountId,withRelationship:false})),button);};export default Account;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{changeListEditorTitle,submitListEditor}from'soapbox/actions/lists';import{Button,Form,HStack,Input}from'soapbox/components/ui';import{useAppDispatch,useAppSelector}from'soapbox/hooks';var messages=defineMessages({title:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},save:{\"id\":\"lists.new.save_title\",\"defaultMessage\":\"Save Title\"}});var ListForm=function ListForm(){var intl=useIntl();var dispatch=useAppDispatch();var value=useAppSelector(function(state){return state.listEditor.title;});var disabled=useAppSelector(function(state){return!state.listEditor.isChanged;});var handleChange=function handleChange(e){dispatch(changeListEditorTitle(e.target.value));};var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(submitListEditor(false));};var handleClick=function handleClick(){dispatch(submitListEditor(false));};var save=intl.formatMessage(messages.save);return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(HStack,{space:2},void 0,/*#__PURE__*/_jsx(Input,{outerClassName:\"grow\",type:\"text\",value:value,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,disabled:disabled},void 0,save)));};export default ListForm;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.regexp.exec.js\";import\"core-js/modules/es.string.search.js\";import clsx from'clsx';import React from'react';import{defineMessages,useIntl}from'react-intl';import{fetchListSuggestions,clearListSuggestions,changeListSuggestions}from'soapbox/actions/lists';import Icon from'soapbox/components/icon';import{Button,Form,HStack,Input}from'soapbox/components/ui';import{useAppSelector,useAppDispatch}from'soapbox/hooks';var messages=defineMessages({search:{\"id\":\"lists.search\",\"defaultMessage\":\"Search among people you follow\"},searchTitle:{\"id\":\"tabs_bar.search\",\"defaultMessage\":\"Search\"}});var Search=function Search(){var intl=useIntl();var dispatch=useAppDispatch();var value=useAppSelector(function(state){return state.listEditor.suggestions.value;});var handleChange=function handleChange(e){dispatch(changeListSuggestions(e.target.value));};var handleSubmit=function handleSubmit(){dispatch(fetchListSuggestions(value));};var handleClear=function handleClear(){dispatch(clearListSuggestions());};var hasValue=value.length>0;return/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(HStack,{space:2},void 0,/*#__PURE__*/_jsx(\"label\",{className:\"relative grow\"},void 0,/*#__PURE__*/_jsx(\"span\",{style:{display:'none'}},void 0,intl.formatMessage(messages.search)),/*#__PURE__*/_jsx(Input,{type:\"text\",value:value,onChange:handleChange,placeholder:intl.formatMessage(messages.search)}),/*#__PURE__*/_jsx(\"div\",{role:\"button\",tabIndex:0,className:\"search__icon\",onClick:handleClear},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/backspace.svg'),\"aria-label\":intl.formatMessage(messages.search),className:clsx('svg-icon--backspace',{active:hasValue})}))),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit},void 0,intl.formatMessage(messages.searchTitle))));};export default Search;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{setupListEditor,resetListEditor}from'soapbox/actions/lists';import{CardHeader,CardTitle,Modal}from'soapbox/components/ui';import{useAppSelector,useAppDispatch}from'soapbox/hooks';import Account from'./components/account';import EditListForm from'./components/edit-list-form';import Search from'./components/search';var messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},changeTitle:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},addToList:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"},removeFromList:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},editList:{\"id\":\"lists.edit\",\"defaultMessage\":\"Edit list\"}});var ListEditor=function ListEditor(_ref){var listId=_ref.listId,onClose=_ref.onClose;var intl=useIntl();var dispatch=useAppDispatch();var accountIds=useAppSelector(function(state){return state.listEditor.accounts.items;});var searchAccountIds=useAppSelector(function(state){return state.listEditor.suggestions.items;});useEffect(function(){dispatch(setupListEditor(listId));return function(){dispatch(resetListEditor());};},[]);var onClickClose=function onClickClose(){onClose('LIST_ADDER');};return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"lists.edit\",defaultMessage:\"Edit list\"}),onClose:onClickClose},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.changeTitle)})),/*#__PURE__*/_jsx(EditListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),accountIds.size>0&&/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.removeFromList)})),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-48 overflow-y-auto\"},void 0,accountIds.map(function(accountId){return/*#__PURE__*/_jsx(Account,{accountId:accountId},accountId);}))),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.addToList)})),/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-48 overflow-y-auto\"},void 0,searchAccountIds.map(function(accountId){return/*#__PURE__*/_jsx(Account,{accountId:accountId},accountId);})));};export default ListEditor;"],"names":["messages","remove","add","_ref","button","accountId","intl","useIntl","dispatch","state","listEditor","accounts","items","includes","src","iconClassName","title","formatMessage","onClick","space","alignItems","justifyContent","className","id","withRelationship","save","value","disabled","isChanged","onSubmit","e","preventDefault","outerClassName","type","onChange","target","search","searchTitle","suggestions","handleSubmit","hasValue","length","style","display","placeholder","role","tabIndex","active","close","changeTitle","addToList","removeFromList","editList","listId","onClose","accountIds","searchAccountIds","useEffect","defaultMessage","size","map"],"sourceRoot":""}