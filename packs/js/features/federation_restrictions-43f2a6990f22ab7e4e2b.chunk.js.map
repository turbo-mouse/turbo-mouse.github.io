{"version":3,"file":"packs/js/features/federation_restrictions-43f2a6990f22ab7e4e2b.chunk.js","mappings":"+QAAuXA,GAAkB,UAAw/B,EAAz8B,SAA4BC,GAAM,IAAIC,EAAKD,EAAKC,KAASC,GAAe,SAAe,SAASC,GAAO,OAAOJ,EAAkBI,EAAMF,EAAM,IAAOG,GAAU,IAAAC,WAAS,GAAOC,GAAW,OAAeF,EAAU,GAAGG,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAAkH,OAAmB,OAAK,MAAM,CAAC,OAAE,GAAoB,OAAK,IAAI,CAACG,KAAK,IAAIC,UAAU,8CAA8CC,QAA5N,SAAwBC,GAAGJ,GAAY,SAASK,GAAO,OAAOA,CAAM,IAAGD,EAAEE,gBAAiB,QAA0J,GAAoB,OAAK,IAAK,CAACC,IAAa,EAATR,EAAiB,KAAwC,SAAgD,OAAK,MAAM,CAACG,WAAU,aAAK,CAAC,eAAeR,EAAec,MAAM,CAAC,aAAa,mBAAc,EAAOd,EAAee,IAAI,WAAuB,OAAK,MAAM,CAACP,WAAU,aAAK,CAAC,uBAAuBH,EAAS,SAASA,UAAY,GAAoB,OAAK,IAAqB,CAACL,eAAeA,KAAmB,ECAxyBgB,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,iCAAiC,eAAiB,2BAA2BC,SAAS,CAAC,GAAK,gDAAgD,eAAiB,8BAA8BC,WAAW,CAAC,GAAK,kDAAkD,eAAiB,4HAA4HC,aAAa,CAAC,GAAK,wCAAwC,eAAiB,iDAAiDC,aAAa,CAAC,GAAK,gDAAgD,eAAiB,4EAA6uC,EAAtoC,WAAkC,IAAIC,GAAK,EAAAC,EAAA,KAAcC,GAAS,UAAkBC,GAAS,IAAAC,cAAY,UAAe,IAAQC,GAAM,SAAe,SAAS1B,GAAO,OAAOwB,EAASxB,EAAO,IAAO2B,GAAU,SAAe,SAAS3B,GAAO,OAAO,QAAgCA,EAAO,IAAOC,GAAU,IAAAC,WAAS,GAAMC,GAAW,OAAeF,EAAU,GAAG2B,EAAuBzB,EAAW,GAAG0B,EAA0B1B,EAAW,GAA4GgB,EAAaQ,EAAUZ,EAASI,aAAaJ,EAASK,aAAa,OAAmB,OAAK,KAAO,CAACU,MAAMT,EAAKU,cAAchB,EAASC,eAAU,GAAoB,OAAK,KAAU,CAACgB,SAASX,EAAKU,cAAchB,EAASE,UAAUb,SAASwB,EAAuBK,SAAlV,SAA8BC,GAASL,EAA0BK,EAAS,QAAuS,EAAOb,EAAKU,cAAchB,EAASG,WAAW,CAACiB,UAAUZ,EAASa,UAAsB,OAAK,MAAM,CAAC7B,UAAU,aAAQ,GAAoB,OAAK,IAAe,CAACY,aAAaE,EAAKU,cAAcZ,EAAa,CAACgB,UAAUZ,EAASa,cAAS,EAAOV,EAAMW,KAAI,SAASvC,GAAM,OAAmB,OAAK,EAAmB,CAACA,KAAKA,GAAMA,EAAM,MAAM,C","sources":["webpack://soapbox/./app/soapbox/features/federation-restrictions/components/restricted-instance.tsx","webpack://soapbox/./app/soapbox/features/federation-restrictions/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import clsx from'clsx';import React,{useState}from'react';import Icon from'soapbox/components/icon';import{useAppSelector}from'soapbox/hooks';import{makeGetRemoteInstance}from'soapbox/selectors';import InstanceRestrictions from'./instance-restrictions';var getRemoteInstance=makeGetRemoteInstance();var RestrictedInstance=function RestrictedInstance(_ref){var host=_ref.host;var remoteInstance=useAppSelector(function(state){return getRemoteInstance(state,host);});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var toggleExpanded=function toggleExpanded(e){setExpanded(function(value){return!value;});e.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"flex items-center gap-1 py-2.5 no-underline\",onClick:toggleExpanded},void 0,/*#__PURE__*/_jsx(Icon,{src:expanded?require('@tabler/icons/caret-down.svg'):require('@tabler/icons/caret-right.svg')}),/*#__PURE__*/_jsx(\"div\",{className:clsx({'line-through':remoteInstance.getIn(['federation','reject'])})},void 0,remoteInstance.get('host'))),/*#__PURE__*/_jsx(\"div\",{className:clsx({'h-0 overflow-hidden':!expanded,'h-auto':expanded})},void 0,/*#__PURE__*/_jsx(InstanceRestrictions,{remoteInstance:remoteInstance})));};export default RestrictedInstance;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import\"core-js/modules/es.array.map.js\";import React,{useState,useCallback}from'react';import{defineMessages,useIntl}from'react-intl';import ScrollableList from'soapbox/components/scrollable-list';import{Column,Accordion}from'soapbox/components/ui';import{useAppSelector,useInstance}from'soapbox/hooks';import{makeGetHosts}from'soapbox/selectors';import{federationRestrictionsDisclosed}from'soapbox/utils/state';import RestrictedInstance from'./components/restricted-instance';var messages=defineMessages({heading:{\"id\":\"column.federation_restrictions\",\"defaultMessage\":\"Federation Restrictions\"},boxTitle:{\"id\":\"federation_restrictions.explanation_box.title\",\"defaultMessage\":\"Instance-specific policies\"},boxMessage:{\"id\":\"federation_restrictions.explanation_box.message\",\"defaultMessage\":\"Normally servers on the Fediverse can communicate freely. {siteTitle} has imposed restrictions on the following servers.\"},emptyMessage:{\"id\":\"federation_restrictions.empty_message\",\"defaultMessage\":\"{siteTitle} has not restricted any instances.\"},notDisclosed:{\"id\":\"federation_restrictions.not_disclosed_message\",\"defaultMessage\":\"{siteTitle} does not disclose federation restrictions through the API.\"}});var FederationRestrictions=function FederationRestrictions(){var intl=useIntl();var instance=useInstance();var getHosts=useCallback(makeGetHosts(),[]);var hosts=useAppSelector(function(state){return getHosts(state);});var disclosed=useAppSelector(function(state){return federationRestrictionsDisclosed(state);});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),explanationBoxExpanded=_useState2[0],setExplanationBoxExpanded=_useState2[1];var toggleExplanationBox=function toggleExplanationBox(setting){setExplanationBoxExpanded(setting);};var emptyMessage=disclosed?messages.emptyMessage:messages.notDisclosed;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(Accordion,{headline:intl.formatMessage(messages.boxTitle),expanded:explanationBoxExpanded,onToggle:toggleExplanationBox},void 0,intl.formatMessage(messages.boxMessage,{siteTitle:instance.title})),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4\"},void 0,/*#__PURE__*/_jsx(ScrollableList,{emptyMessage:intl.formatMessage(emptyMessage,{siteTitle:instance.title})},void 0,hosts.map(function(host){return/*#__PURE__*/_jsx(RestrictedInstance,{host:host},host);}))));};export default FederationRestrictions;"],"names":["getRemoteInstance","_ref","host","remoteInstance","state","_useState","useState","_useState2","expanded","setExpanded","href","className","onClick","e","value","preventDefault","src","getIn","get","messages","heading","boxTitle","boxMessage","emptyMessage","notDisclosed","intl","useIntl","instance","getHosts","useCallback","hosts","disclosed","explanationBoxExpanded","setExplanationBoxExpanded","label","formatMessage","headline","onToggle","setting","siteTitle","title","map"],"sourceRoot":""}